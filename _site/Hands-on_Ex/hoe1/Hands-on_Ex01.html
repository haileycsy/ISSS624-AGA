<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-11-30">

<title>haileycsy - Hands-on Ex 01</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/apple-touch-icon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/Name_Logo2.png" alt="" class="navbar-logo">
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/hailey-sy-cheong/"><i class="bi bi-linkedin" role="img" aria-label="Linkedin">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://public.tableau.com/app/profile/hailey.cheong"><i class="bi bi-diagram-3-fill" role="img" aria-label="Tableau">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/haileycsy"><i class="bi bi-github" role="img" aria-label="Github">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text"><i class="fa-solid fa-face-smile" aria-label="face-smile"></i> Hello World</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-fa-hand-sparkles--hands-on-ex" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text"><i class="fa-solid fa-hand-sparkles" aria-label="hand-sparkles"></i> Hands-on Ex</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-fa-hand-sparkles--hands-on-ex">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/hoe1/Hands-on_Ex01.html">
 <span class="dropdown-text">Hands-on Ex 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/hoe2/Hands-on_Ex02.html">
 <span class="dropdown-text">Hands-on Ex 2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-fa-magnifying-glass-chart--take-home-ex" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text"><i class="fa-solid fa-magnifying-glass-chart" aria-label="magnifying-glass-chart"></i> Take-home Ex</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-fa-magnifying-glass-chart--take-home-ex">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/the1/Take-home_ex1.html">
 <span class="dropdown-text">Take-home Ex 1</span></a>
  </li>  
        <li class="dropdown-header">Take-home Ex 2</li>
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-fa-chalkboard-user--in-class-ex" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text"><i class="fa-solid fa-chalkboard-user" aria-label="chalkboard-user"></i> In-class Ex</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-fa-chalkboard-user--in-class-ex">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex\ice1\In-class_Ex01.html">
 <span class="dropdown-text">In-class Ex 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex\ice2\In-class_Ex02.html">
 <span class="dropdown-text">In-class Ex 2</span></a>
  </li>  
    </ul>
  </li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#installing-r-packages" id="toc-installing-r-packages" class="nav-link active" data-scroll-target="#installing-r-packages">Installing R packages</a></li>
  <li><a href="#importing-geospatial-data" id="toc-importing-geospatial-data" class="nav-link" data-scroll-target="#importing-geospatial-data">Importing Geospatial Data</a></li>
  <li><a href="#what-is-the-content-of-a-simple-feature-data-frame" id="toc-what-is-the-content-of-a-simple-feature-data-frame" class="nav-link" data-scroll-target="#what-is-the-content-of-a-simple-feature-data-frame">What is the Content of A Simple Feature Data Frame?</a></li>
  <li><a href="#plotting-the-geospatial-data" id="toc-plotting-the-geospatial-data" class="nav-link" data-scroll-target="#plotting-the-geospatial-data">Plotting the Geospatial Data</a>
  <ul class="collapse">
  <li><a href="#different-variations-of-plot" id="toc-different-variations-of-plot" class="nav-link" data-scroll-target="#different-variations-of-plot">Different variations of <code>plot()</code></a></li>
  </ul></li>
  <li><a href="#projection-transformation" id="toc-projection-transformation" class="nav-link" data-scroll-target="#projection-transformation">Projection Transformation</a>
  <ul class="collapse">
  <li><a href="#assigning-the-right-epsg-code-based-on-coordinate-system" id="toc-assigning-the-right-epsg-code-based-on-coordinate-system" class="nav-link" data-scroll-target="#assigning-the-right-epsg-code-based-on-coordinate-system">Assigning the right EPSG code based on coordinate system</a></li>
  <li><a href="#transforming-coordinate-systems" id="toc-transforming-coordinate-systems" class="nav-link" data-scroll-target="#transforming-coordinate-systems">Transforming Coordinate Systems</a></li>
  </ul></li>
  <li><a href="#importing-aspatial-data" id="toc-importing-aspatial-data" class="nav-link" data-scroll-target="#importing-aspatial-data">Importing Aspatial Data</a></li>
  <li><a href="#converting-aspatial-data-into-geospatial-feature-dataframes" id="toc-converting-aspatial-data-into-geospatial-feature-dataframes" class="nav-link" data-scroll-target="#converting-aspatial-data-into-geospatial-feature-dataframes">Converting Aspatial Data into Geospatial feature Dataframes</a>
  <ul class="collapse">
  <li><a href="#using-st_as_sf" id="toc-using-st_as_sf" class="nav-link" data-scroll-target="#using-st_as_sf">Using <strong>st_as_sf()</strong></a></li>
  <li><a href="#checking-for-added-geometry-variable-in-dataframe" id="toc-checking-for-added-geometry-variable-in-dataframe" class="nav-link" data-scroll-target="#checking-for-added-geometry-variable-in-dataframe">Checking for added <code>geometry</code> variable in dataframe:</a></li>
  </ul></li>
  <li><a href="#geoprocessing-gis-analysis" id="toc-geoprocessing-gis-analysis" class="nav-link" data-scroll-target="#geoprocessing-gis-analysis">Geoprocessing (GIS Analysis)</a>
  <ul class="collapse">
  <li><a href="#buffering" id="toc-buffering" class="nav-link" data-scroll-target="#buffering"><strong>Buffering</strong></a></li>
  <li><a href="#point-in-polygon" id="toc-point-in-polygon" class="nav-link" data-scroll-target="#point-in-polygon"><strong>Point-in-polygon</strong></a>
  <ul class="collapse">
  <li><a href="#what-is-the-density-of-pre-schools-by-planning-subzone" id="toc-what-is-the-density-of-pre-schools-by-planning-subzone" class="nav-link" data-scroll-target="#what-is-the-density-of-pre-schools-by-planning-subzone"><strong>What is the density of pre-schools by planning subzone?</strong></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#exploratory-analysis" id="toc-exploratory-analysis" class="nav-link" data-scroll-target="#exploratory-analysis">Exploratory Analysis</a>
  <ul class="collapse">
  <li><a href="#what-is-the-distribution-of-preschool-density" id="toc-what-is-the-distribution-of-preschool-density" class="nav-link" data-scroll-target="#what-is-the-distribution-of-preschool-density">What is the distribution of Preschool Density?</a></li>
  </ul></li>
  <li><a href="#importing-attribute-data" id="toc-importing-attribute-data" class="nav-link" data-scroll-target="#importing-attribute-data">Importing Attribute Data</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">Data Preparation</a>
  <ul class="collapse">
  <li><a href="#how-does-the-data-look-like" id="toc-how-does-the-data-look-like" class="nav-link" data-scroll-target="#how-does-the-data-look-like">How does the data look like?</a></li>
  <li><a href="#extracting-2020-data-and-creating-pivot-table" id="toc-extracting-2020-data-and-creating-pivot-table" class="nav-link" data-scroll-target="#extracting-2020-data-and-creating-pivot-table">Extracting 2020 Data and creating pivot table</a></li>
  <li><a href="#joining-attributes-to-geospatial-data" id="toc-joining-attributes-to-geospatial-data" class="nav-link" data-scroll-target="#joining-attributes-to-geospatial-data">Joining Attributes to Geospatial data</a></li>
  </ul></li>
  <li><a href="#cloropleth-maps" id="toc-cloropleth-maps" class="nav-link" data-scroll-target="#cloropleth-maps">Cloropleth Maps</a>
  <ul class="collapse">
  <li><a href="#simple-map-using-qtm" id="toc-simple-map-using-qtm" class="nav-link" data-scroll-target="#simple-map-using-qtm"><strong>Simple map using qtm()</strong></a></li>
  <li><a href="#using-tmap-arguments" id="toc-using-tmap-arguments" class="nav-link" data-scroll-target="#using-tmap-arguments"><strong>Using tmap arguments</strong></a></li>
  <li><a href="#building-a-tmap" id="toc-building-a-tmap" class="nav-link" data-scroll-target="#building-a-tmap"><strong>Building a tmap</strong></a></li>
  <li><a href="#data-classification-methods" id="toc-data-classification-methods" class="nav-link" data-scroll-target="#data-classification-methods"><strong>Data Classification Methods</strong></a></li>
  <li><a href="#legends-and-styles" id="toc-legends-and-styles" class="nav-link" data-scroll-target="#legends-and-styles"><strong>Legends and Styles</strong></a></li>
  <li><a href="#facet-maps" id="toc-facet-maps" class="nav-link" data-scroll-target="#facet-maps"><strong>Facet maps</strong></a></li>
  <li><a href="#stand-alone-maps-with-tmap_arrange" id="toc-stand-alone-maps-with-tmap_arrange" class="nav-link" data-scroll-target="#stand-alone-maps-with-tmap_arrange"><strong>stand-alone maps with tmap_arrange()</strong></a></li>
  <li><a href="#mapping-only-specific-criteria" id="toc-mapping-only-specific-criteria" class="nav-link" data-scroll-target="#mapping-only-specific-criteria"><strong>Mapping only specific criteria</strong></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Hands-on Ex 01</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 30, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p><font size="5"><strong>Geospatial Data Wrangling</strong></font></p>
<section id="installing-r-packages" class="level1">
<h1>Installing R packages</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(sf, tidyverse, Hmisc, urbnthemes, tmap, kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importing-geospatial-data" class="level1">
<h1>Importing Geospatial Data</h1>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true"><strong>Polygon Data</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false"><strong>Polyline Data</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false"><strong>GIS Data (KML format)</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>mpsz <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>   <span class="at">dsn =</span> <span class="st">"data/geospatial"</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>   <span class="at">layer =</span> <span class="st">"MP14_SUBZONE_WEB_PL"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `MP14_SUBZONE_WEB_PL' from data source 
  `C:\haileycsy\ISSS624-AGA\Hands-on_Ex\hoe1\data\geospatial' 
  using driver `ESRI Shapefile'
Simple feature collection with 323 features and 15 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33
Projected CRS: SVY21</code></pre>
</div>
</div>
<div class="solvebox solve">
<p><strong>st_read()</strong> reveals that the geospatial objects are multipolygon features. There are a total of 323 multipolygon features and 15 fields in the <code>mpsz</code> simple feature data frame</p>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>cyclingpath <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>   <span class="at">dsn =</span> <span class="st">"data/geospatial"</span>, </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>   <span class="at">layer =</span> <span class="st">"CyclingPathGazette"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `CyclingPathGazette' from data source 
  `C:\haileycsy\ISSS624-AGA\Hands-on_Ex\hoe1\data\geospatial' 
  using driver `ESRI Shapefile'
Simple feature collection with 2558 features and 2 fields
Geometry type: MULTILINESTRING
Dimension:     XY
Bounding box:  xmin: 11854.32 ymin: 28347.98 xmax: 42626.09 ymax: 48948.15
Projected CRS: SVY21</code></pre>
</div>
</div>
<div class="solvebox solve">
<p>There are a total of 2558 features and 2 fields in <code>cyclingpath</code> linestring feature data frame and it is in <strong>svy21</strong> projected coordinates system</p>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>preschool <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>   <span class="st">"data/geospatial/PreSchoolsLocation.kml"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `PRESCHOOLS_LOCATION' from data source 
  `C:\haileycsy\ISSS624-AGA\Hands-on_Ex\hoe1\data\geospatial\PreSchoolsLocation.kml' 
  using driver `KML'
Simple feature collection with 2290 features and 2 fields
Geometry type: POINT
Dimension:     XYZ
Bounding box:  xmin: 103.6878 ymin: 1.247759 xmax: 103.9897 ymax: 1.462134
z_range:       zmin: 0 zmax: 0
Geodetic CRS:  WGS 84</code></pre>
</div>
</div>
<div class="solvebox solve">
<p>This reveals that <code>preschool</code> is a <strong>point feature</strong> data frame. There are a total of 2290 features and 2 fields and is in <strong>wgs84</strong> coordinates system.</p>
</div>
</div>
</div>
</div>
</section>
<section id="what-is-the-content-of-a-simple-feature-data-frame" class="level1">
<h1>What is the Content of A Simple Feature Data Frame?</h1>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true"><strong>st_geometry()</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false"><strong>glimpse()</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false"><strong>head()</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_geometry</span>(mpsz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Geometry set for 323 features 
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33
Projected CRS: SVY21
First 5 geometries:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>MULTIPOLYGON (((31495.56 30140.01, 31980.96 296...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>MULTIPOLYGON (((29092.28 30021.89, 29119.64 300...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>MULTIPOLYGON (((29932.33 29879.12, 29947.32 298...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>MULTIPOLYGON (((27131.28 30059.73, 27088.33 297...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>MULTIPOLYGON (((26451.03 30396.46, 26440.47 303...</code></pre>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>This gives more information about the associated attributes in the data frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(mpsz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 323
Columns: 16
$ OBJECTID   &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …
$ SUBZONE_NO &lt;int&gt; 1, 1, 3, 8, 3, 7, 9, 2, 13, 7, 12, 6, 1, 5, 1, 1, 3, 2, 2, …
$ SUBZONE_N  &lt;chr&gt; "MARINA SOUTH", "PEARL'S HILL", "BOAT QUAY", "HENDERSON HIL…
$ SUBZONE_C  &lt;chr&gt; "MSSZ01", "OTSZ01", "SRSZ03", "BMSZ08", "BMSZ03", "BMSZ07",…
$ CA_IND     &lt;chr&gt; "Y", "Y", "Y", "N", "N", "N", "N", "Y", "N", "N", "N", "N",…
$ PLN_AREA_N &lt;chr&gt; "MARINA SOUTH", "OUTRAM", "SINGAPORE RIVER", "BUKIT MERAH",…
$ PLN_AREA_C &lt;chr&gt; "MS", "OT", "SR", "BM", "BM", "BM", "BM", "SR", "QT", "QT",…
$ REGION_N   &lt;chr&gt; "CENTRAL REGION", "CENTRAL REGION", "CENTRAL REGION", "CENT…
$ REGION_C   &lt;chr&gt; "CR", "CR", "CR", "CR", "CR", "CR", "CR", "CR", "CR", "CR",…
$ INC_CRC    &lt;chr&gt; "5ED7EB253F99252E", "8C7149B9EB32EEFC", "C35FEFF02B13E0E5",…
$ FMEL_UPD_D &lt;date&gt; 2014-12-05, 2014-12-05, 2014-12-05, 2014-12-05, 2014-12-05…
$ X_ADDR     &lt;dbl&gt; 31595.84, 28679.06, 29654.96, 26782.83, 26201.96, 25358.82,…
$ Y_ADDR     &lt;dbl&gt; 29220.19, 29782.05, 29974.66, 29933.77, 30005.70, 29991.38,…
$ SHAPE_Leng &lt;dbl&gt; 5267.381, 3506.107, 1740.926, 3313.625, 2825.594, 4428.913,…
$ SHAPE_Area &lt;dbl&gt; 1630379.27, 559816.25, 160807.50, 595428.89, 387429.44, 103…
$ geometry   &lt;MULTIPOLYGON [m]&gt; MULTIPOLYGON (((31495.56 30..., MULTIPOLYGON (…</code></pre>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mpsz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 6 features and 15 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 24468.89 ymin: 28369.47 xmax: 32362.39 ymax: 30542.74
Projected CRS: SVY21
  OBJECTID SUBZONE_NO      SUBZONE_N SUBZONE_C CA_IND      PLN_AREA_N
1        1          1   MARINA SOUTH    MSSZ01      Y    MARINA SOUTH
2        2          1   PEARL'S HILL    OTSZ01      Y          OUTRAM
3        3          3      BOAT QUAY    SRSZ03      Y SINGAPORE RIVER
4        4          8 HENDERSON HILL    BMSZ08      N     BUKIT MERAH
5        5          3        REDHILL    BMSZ03      N     BUKIT MERAH
6        6          7 ALEXANDRA HILL    BMSZ07      N     BUKIT MERAH
  PLN_AREA_C       REGION_N REGION_C          INC_CRC FMEL_UPD_D   X_ADDR
1         MS CENTRAL REGION       CR 5ED7EB253F99252E 2014-12-05 31595.84
2         OT CENTRAL REGION       CR 8C7149B9EB32EEFC 2014-12-05 28679.06
3         SR CENTRAL REGION       CR C35FEFF02B13E0E5 2014-12-05 29654.96
4         BM CENTRAL REGION       CR 3775D82C5DDBEFBD 2014-12-05 26782.83
5         BM CENTRAL REGION       CR 85D9ABEF0A40678F 2014-12-05 26201.96
6         BM CENTRAL REGION       CR 9D286521EF5E3B59 2014-12-05 25358.82
    Y_ADDR SHAPE_Leng SHAPE_Area                       geometry
1 29220.19   5267.381  1630379.3 MULTIPOLYGON (((31495.56 30...
2 29782.05   3506.107   559816.2 MULTIPOLYGON (((29092.28 30...
3 29974.66   1740.926   160807.5 MULTIPOLYGON (((29932.33 29...
4 29933.77   3313.625   595428.9 MULTIPOLYGON (((27131.28 30...
5 30005.70   2825.594   387429.4 MULTIPOLYGON (((26451.03 30...
6 29991.38   4428.913  1030378.8 MULTIPOLYGON (((25899.7 297...</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="plotting-the-geospatial-data" class="level1">
<h1>Plotting the Geospatial Data</h1>
<section id="different-variations-of-plot" class="level2">
<h2 class="anchored" data-anchor-id="different-variations-of-plot">Different variations of <code>plot()</code></h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true"><strong>simple plot()</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false"><strong>geometry only</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false"><strong>specific attribute</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mpsz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot only the geometry using st_geometry</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(mpsz))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mpsz[<span class="st">"SUBZONE_C"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="projection-transformation" class="level1">
<h1>Projection Transformation</h1>
<p>Map projection is an important property of geospatial data. In order to perform geoprocessing using different geospatial data sources, both need to be projected using similar coordinate systems.</p>
<p>The technical term of the process of projecting a simple feature data frame from one coordinate system to another is called projection transformation.</p>
<section id="assigning-the-right-epsg-code-based-on-coordinate-system" class="level2">
<h2 class="anchored" data-anchor-id="assigning-the-right-epsg-code-based-on-coordinate-system">Assigning the right EPSG code based on coordinate system</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true"><strong>Step 1: Check EPSG Code</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false"><strong>Step 2: st_set_crs()</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false"><strong>Step 3: Reconfirm EPSG</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(mpsz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: SVY21 
  wkt:
PROJCRS["SVY21",
    BASEGEOGCRS["SVY21[WGS84]",
        DATUM["World Geodetic System 1984",
            ELLIPSOID["WGS 84",6378137,298.257223563,
                LENGTHUNIT["metre",1]],
            ID["EPSG",6326]],
        PRIMEM["Greenwich",0,
            ANGLEUNIT["Degree",0.0174532925199433]]],
    CONVERSION["unnamed",
        METHOD["Transverse Mercator",
            ID["EPSG",9807]],
        PARAMETER["Latitude of natural origin",1.36666666666667,
            ANGLEUNIT["Degree",0.0174532925199433],
            ID["EPSG",8801]],
        PARAMETER["Longitude of natural origin",103.833333333333,
            ANGLEUNIT["Degree",0.0174532925199433],
            ID["EPSG",8802]],
        PARAMETER["Scale factor at natural origin",1,
            SCALEUNIT["unity",1],
            ID["EPSG",8805]],
        PARAMETER["False easting",28001.642,
            LENGTHUNIT["metre",1],
            ID["EPSG",8806]],
        PARAMETER["False northing",38744.572,
            LENGTHUNIT["metre",1],
            ID["EPSG",8807]]],
    CS[Cartesian,2],
        AXIS["(E)",east,
            ORDER[1],
            LENGTHUNIT["metre",1,
                ID["EPSG",9001]]],
        AXIS["(N)",north,
            ORDER[2],
            LENGTHUNIT["metre",1,
                ID["EPSG",9001]]]]</code></pre>
</div>
</div>
<p>The message indicates that the EPSG is 9001. This is a wrong EPSG code because the correct EPSG code for svy21 should be 3414</p>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>mpsz3414 <span class="ot">&lt;-</span> <span class="fu">st_set_crs</span>(mpsz, <span class="dv">3414</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(mpsz3414)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: EPSG:3414 
  wkt:
PROJCRS["SVY21 / Singapore TM",
    BASEGEOGCRS["SVY21",
        DATUM["SVY21",
            ELLIPSOID["WGS 84",6378137,298.257223563,
                LENGTHUNIT["metre",1]]],
        PRIMEM["Greenwich",0,
            ANGLEUNIT["degree",0.0174532925199433]],
        ID["EPSG",4757]],
    CONVERSION["Singapore Transverse Mercator",
        METHOD["Transverse Mercator",
            ID["EPSG",9807]],
        PARAMETER["Latitude of natural origin",1.36666666666667,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8801]],
        PARAMETER["Longitude of natural origin",103.833333333333,
            ANGLEUNIT["degree",0.0174532925199433],
            ID["EPSG",8802]],
        PARAMETER["Scale factor at natural origin",1,
            SCALEUNIT["unity",1],
            ID["EPSG",8805]],
        PARAMETER["False easting",28001.642,
            LENGTHUNIT["metre",1],
            ID["EPSG",8806]],
        PARAMETER["False northing",38744.572,
            LENGTHUNIT["metre",1],
            ID["EPSG",8807]]],
    CS[Cartesian,2],
        AXIS["northing (N)",north,
            ORDER[1],
            LENGTHUNIT["metre",1]],
        AXIS["easting (E)",east,
            ORDER[2],
            LENGTHUNIT["metre",1]],
    USAGE[
        SCOPE["Cadastre, engineering survey, topographic mapping."],
        AREA["Singapore - onshore and offshore."],
        BBOX[1.13,103.59,1.47,104.07]],
    ID["EPSG",3414]]</code></pre>
</div>
</div>
<p>EPSG code is now 3414</p>
</div>
</div>
</div>
</section>
<section id="transforming-coordinate-systems" class="level2">
<h2 class="anchored" data-anchor-id="transforming-coordinate-systems">Transforming Coordinate Systems</h2>
<p>In geospatial analytics, it is very common for us to transform the original data from geographic coordinate system to projected coordinate system. This is because geographic coordinate system is not appropriate if the analysis need to use distance or/and area measurements.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true"><strong>Step 1: Check coordinate system</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false"><strong>st_transform()</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false"><strong>Recheck coordinate system</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_geometry</span>(preschool)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Geometry set for 2290 features 
Geometry type: POINT
Dimension:     XYZ
Bounding box:  xmin: 103.6878 ymin: 1.247759 xmax: 103.9897 ymax: 1.462134
z_range:       zmin: 0 zmax: 0
Geodetic CRS:  WGS 84
First 5 geometries:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>POINT Z (103.8072 1.299333 0)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>POINT Z (103.826 1.312839 0)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>POINT Z (103.8409 1.348843 0)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>POINT Z (103.8048 1.435024 0)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>POINT Z (103.839 1.33315 0)</code></pre>
</div>
</div>
<p><code>preschool</code> dataframe is in wgs84 coordinate system.</p>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>preschool3414 <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>   preschool, </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>   <span class="at">crs =</span> <span class="dv">3414</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_geometry</span>(preschool3414)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Geometry set for 2290 features 
Geometry type: POINT
Dimension:     XYZ
Bounding box:  xmin: 11810.03 ymin: 25596.33 xmax: 45404.24 ymax: 49300.88
z_range:       zmin: 0 zmax: 0
Projected CRS: SVY21 / Singapore TM
First 5 geometries:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>POINT Z (25089.46 31299.16 0)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>POINT Z (27189.07 32792.54 0)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>POINT Z (28844.56 36773.76 0)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>POINT Z (24821.92 46303.16 0)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>POINT Z (28637.82 35038.49 0)</code></pre>
</div>
</div>
<p>Message reveals that the new dataframe has been transformed to svy21 projected coordinate system.</p>
</div>
</div>
</div>
</section>
</section>
<section id="importing-aspatial-data" class="level1">
<h1>Importing Aspatial Data</h1>
<p><code>Airbnb_listings</code> data set is in csv file format, and can be imported by read_csv() of readr package.The output R object is called <code>listings</code> and it is a tibble data frame.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true"><strong>Import Data</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false"><strong>list()</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false"><strong>describe()</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>listings <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/aspatial/Airbnb_listings.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3483 Columns: 75
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (26): listing_url, source, name, description, neighborhood_overview, pi...
dbl  (37): id, scrape_id, host_id, host_listings_count, host_total_listings_...
lgl   (7): host_is_superhost, host_has_profile_pic, host_identity_verified, ...
date  (5): last_scraped, host_since, calendar_last_scraped, first_review, la...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(listings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
# A tibble: 3,483 × 75
       id listing_url            scrape_id last_scraped source name  description
    &lt;dbl&gt; &lt;chr&gt;                      &lt;dbl&gt; &lt;date&gt;       &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;      
 1  71609 https://www.airbnb.co…   2.02e13 2023-09-23   previ… Vill… For 3 room…
 2  71896 https://www.airbnb.co…   2.02e13 2023-09-23   previ… Home… &lt;b&gt;The spa…
 3  71903 https://www.airbnb.co…   2.02e13 2023-09-23   previ… Home… Like your …
 4 275343 https://www.airbnb.co…   2.02e13 2023-09-23   city … Rent… **IMPORTAN…
 5 275344 https://www.airbnb.co…   2.02e13 2023-09-23   city … Rent… Lovely hom…
 6 289234 https://www.airbnb.co…   2.02e13 2023-09-23   previ… Home… This whole…
 7 294281 https://www.airbnb.co…   2.02e13 2023-09-23   city … Rent… I have 3 b…
 8 324945 https://www.airbnb.co…   2.02e13 2023-09-23   city … Rent… **IMPORTAN…
 9 330095 https://www.airbnb.co…   2.02e13 2023-09-23   city … Rent… **IMPORTAN…
10 369141 https://www.airbnb.co…   2.02e13 2023-09-23   city … Plac… A room in …
# ℹ 3,473 more rows
# ℹ 68 more variables: neighborhood_overview &lt;chr&gt;, picture_url &lt;chr&gt;,
#   host_id &lt;dbl&gt;, host_url &lt;chr&gt;, host_name &lt;chr&gt;, host_since &lt;date&gt;,
#   host_location &lt;chr&gt;, host_about &lt;chr&gt;, host_response_time &lt;chr&gt;,
#   host_response_rate &lt;chr&gt;, host_acceptance_rate &lt;chr&gt;,
#   host_is_superhost &lt;lgl&gt;, host_thumbnail_url &lt;chr&gt;, host_picture_url &lt;chr&gt;,
#   host_neighbourhood &lt;chr&gt;, host_listings_count &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(listings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>listings 

 75  Variables      3483  Observations
--------------------------------------------------------------------------------
id 
        n   missing  distinct      Info      Mean       Gmd       .05       .10 
     3483         0      3483         1 2.607e+17 3.658e+17 7.725e+06 1.270e+07 
      .25       .50       .75       .90       .95 
2.477e+07 4.230e+07 6.927e+17 8.732e+17 9.325e+17 

lowest : 7.160900e+04 7.189600e+04 7.190300e+04 2.753430e+05 2.753440e+05
highest: 9.844896e+17 9.850279e+17 9.851586e+17 9.853784e+17 9.859401e+17
--------------------------------------------------------------------------------
listing_url 
       n  missing distinct 
    3483        0     3483 

lowest : https://www.airbnb.com/rooms/10001615 https://www.airbnb.com/rooms/10020525 https://www.airbnb.com/rooms/10020690 https://www.airbnb.com/rooms/10021140 https://www.airbnb.com/rooms/10021610
highest: https://www.airbnb.com/rooms/9932692  https://www.airbnb.com/rooms/9942594  https://www.airbnb.com/rooms/9967697  https://www.airbnb.com/rooms/9981003  https://www.airbnb.com/rooms/9986864 
--------------------------------------------------------------------------------
scrape_id 
        n   missing  distinct      Info      Mean       Gmd 
     3483         0         1         0 2.023e+13         0 
                       
Value      2.023092e+13
Frequency          3483
Proportion            1
--------------------------------------------------------------------------------
last_scraped 
         n    missing   distinct       Info       Mean        Gmd 
      3483          0          1          0 2023-09-23          0 
                     
Value      2023-09-23
Frequency        3483
Proportion          1
--------------------------------------------------------------------------------
source 
       n  missing distinct 
    3483        0        2 
                                          
Value          city scrape previous scrape
Frequency             2701             782
Proportion           0.775           0.225
--------------------------------------------------------------------------------
name 
       n  missing distinct 
    3483        0     1484 

lowest : Aparthotel in Singapore · ★4.30 · Studio · 1 bed · 1 bath           Aparthotel in Singapore · ★4.31 · Studio · 1 bed · 1 bath           Aparthotel in Singapore · ★4.33 · Studio · 1 bed · 1 bath           Aparthotel in Singapore · ★4.44 · Studio · 1 bed · 1 bath           Aparthotel in Singapore · ★4.47 · 1 bedroom · 1 bed · 1 shared bath
highest: Villa in Singapore · ★5.0 · 1 bedroom · 2 beds · 1 private bath     Villa in Singapore · 1 bedroom · 1 bed · 1 private bath             Villa in Singapore · 1 bedroom · 2 beds · 1 private bath            Villa in Singapore · 4 bedrooms · 4 beds · 5.5 baths                Villa in Singapore · 6 bedrooms · 4 beds · 6 baths                 
--------------------------------------------------------------------------------
description 
       n  missing distinct 
    3439       44     2741 

lowest : - 3mins walkable distance to Pasir ris mrt&lt;br /&gt;- 10mins to airport by taxi&lt;br /&gt;- Near by food court&lt;br /&gt;- Near by pool, Pasir ris park&lt;br /&gt;- Fully furnished&lt;br /&gt;- Separate Tv inside the room&lt;br /&gt;- Peaceful place&lt;br /&gt;&lt;br /&gt;&lt;b&gt;The space&lt;/b&gt;&lt;br /&gt;This place is very peaceful place and nearby beautiful Pasir ris park, attracted wild wild wet and pool.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Guest access&lt;/b&gt;&lt;br /&gt;Fridge, washing machine and simple cooking if required can share.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;During your stay&lt;/b&gt;&lt;br /&gt;Guest can contact via sms, phone call @90050739 and 86064684&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Other things to note&lt;/b&gt;&lt;br /&gt;Immediate available.                                                                                                                                                                                                                                                                                                                                                                                          - 3mth lease and above is considered here, the longer the better&lt;br /&gt;- Brand new renovation 2019 March&lt;br /&gt;- Private lockable QUEENbed room with BIG windows x3 &lt;br /&gt;- Fully Private, Airconditioned Furnished w singlebed, wardrobe, desk, chair&lt;br /&gt;- Basic bedsheet + towel&lt;br /&gt;- Free access to 1gbps fibre wifi&lt;br /&gt;- Access to 2 bathrooms (shared w 4 others)&lt;br /&gt;&lt;br /&gt;&lt;b&gt;The space&lt;/b&gt;&lt;br /&gt;- 3mth lease and above is considered here, the longer the better&lt;br /&gt;- Brand new renovation 2019 March&lt;br /&gt;- Private lockable QUEENbed room with BIG windows x3 &lt;br /&gt;- Fully Private, Airconditioned Furnished w singlebed, wardrobe, desk, chair&lt;br /&gt;- Basic bedsheet + towel&lt;br /&gt;- Free access to 1gbps fibre wifi&lt;br /&gt;- Access to 2 bathrooms (shared w 4 others)&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Guest access&lt;/b&gt;&lt;br /&gt;- 24hr checkin via door code, No curfews (but do keep noise level down after 12am)&lt;br /&gt;- Light cooking using shared microwave, induction cooker&lt;br /&gt;- Free access to wifi mesh network 1gbps&lt;br /&gt;- Free us - 3mth lease and above is considered here, the longer the better&lt;br /&gt;- Brand new renovation 2019 March&lt;br /&gt;- Private lockable singlebed room with window &lt;br /&gt;- Fully Private, Airconditioned Furnished w singlebed, wardrobe, desk, chair&lt;br /&gt;- Basic bedsheet + towel&lt;br /&gt;- Free access to 1gbps fibre wifi&lt;br /&gt;- Access to 2 bathrooms (shared w 4 others)&lt;br /&gt;&lt;br /&gt;&lt;b&gt;The space&lt;/b&gt;&lt;br /&gt;- Brand new renovation from 2019 March&lt;br /&gt;- Private lockable singlebed room with great window view of neighbourhood&lt;br /&gt;- Fully Private, Airconditioned Furnished w singlebed, wardrobe, desk, chair&lt;br /&gt;- Basic bedsheet + towel&lt;br /&gt;- Free access to 1gbps fibre wifi&lt;br /&gt;- Access to 2 bathrooms (shared w 4 others)&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Guest access&lt;/b&gt;&lt;br /&gt;- 24hr checkin via door code, No curfews (but do keep noise level down after 12am)&lt;br /&gt;- Light cooking using shared microwave, induction cooker&lt;br /&gt;- Free access to wifi mesh network 1gbps&lt;br /&gt;- Free usage of washer + dryer&lt;br /&gt;- Self service kettle (sh - 3mth lease and above is considered here, the longer the better&lt;br /&gt;- Newly renovated 2019 March&lt;br /&gt;- Private lockable singlebed room with great window view of neighbourhood&lt;br /&gt;- Fully Private, Airconditioned Furnished w singlebed, wardrobe, desk, chair&lt;br /&gt;- Basic bedsheet + towel&lt;br /&gt;- Free access to 1gbps fibre wifi&lt;br /&gt;- Access to 2 bathrooms (shared w 4 others)&lt;br /&gt;&lt;br /&gt;&lt;b&gt;The space&lt;/b&gt;&lt;br /&gt;- 3mth lease and above is considered here, the longer the better&lt;br /&gt;- Newly renovated 2019 March&lt;br /&gt;- Private lockable singlebed room with great window view of neighbourhood&lt;br /&gt;- Fully Private, Airconditioned Furnished w singlebed, wardrobe, desk, chair&lt;br /&gt;- Basic bedsheet + towel&lt;br /&gt;- Free access to 1gbps fibre wifi&lt;br /&gt;- Access to 2 bathrooms (shared w 4 others)&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Guest access&lt;/b&gt;&lt;br /&gt;- 24hr checkin via door code, No curfews (but do keep noise level down after 12am)&lt;br /&gt;- Light cooking using shared microwave, induction cooker&lt;br /&gt;- Free access to wifi mes - 5-10mins walk to Kembagan MRT&lt;br /&gt;- Few MRT stops to airport, Paya Lebar, City Hall &amp; Bedok. 1-2 stops to shopping Malls&lt;br /&gt;- 5mins walk to eateries, mini mart. &lt;br /&gt;- In peaceful estate with greenery &amp; breezy&lt;br /&gt;- 5mins to park connector to East Coast Beach&lt;br /&gt;- Queen bed in bedrm &lt;br /&gt;- Sofa queen bed in living rm&lt;br /&gt;- Full furnished with washing machine, fridge, TV, , aircon, toaster, rice cooker, microwave, pots and pans, cutleries.&lt;br /&gt;- Free Wifi &amp; Utilities&lt;br /&gt;- Superhost with ~600 5star reviews. This is new account&lt;br /&gt;&lt;br /&gt;&lt;b&gt;The space&lt;/b&gt;&lt;br /&gt;- 5-10mins walk to Kembagan MRT. &lt;br /&gt;- Few MRT stops to airport, Paya Lebar, City Hall &amp; Bedok. 1-2 stops to shopping Malls&lt;br /&gt;- 3mins to bus stops to many parts of Singapore. &lt;br /&gt;- 5mins walk to eateries, mini mart.&lt;br /&gt;- Free parking on premies. &lt;br /&gt;- No pool and no gym or other facilities.&lt;br /&gt;- In peaceful estate with greenery &amp; breezy&lt;br /&gt;- 5mins to park connector that leads to the East Coast Beach. Gre
highest: 这处独具特色的房源有着自己独一无二的风格。蔡厝港地铁站公寓房间&lt;br /&gt;&lt;br /&gt;2分钟蔡厝港地铁站对面公寓🏡&lt;br /&gt; 公寓环境和周边环境优美 公共设施包括游泳池🏊 水力按摩池 健身房🏋 网球. &lt;br /&gt;地铁巴士总站就在公寓旁，交通方便，生活便利，购物中心，食阁，诊所，银行，公园等。&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Registration number&lt;/b&gt;&lt;br /&gt;Authorised Serviced Apartment                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           这是一个位于新加坡武吉知马的公寓房子，离乌节路近，环境优美安静的公寓，房子干净整洁，采光充足，通风透气！                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 适合一家二口居住，走路五分钟可达就是白沙海滩公园，二分钟走路可达购物商场有24小时超市。交通便利，走路八分钟到达地铁站。楼下有巴士直达机场和市中心                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         阿裕尼高级公寓普通房寻求女搭房&lt;br /&gt;450／月，包水电网，拎包即可入住（冰箱，洗衣机，微波炉，热水器）&lt;br /&gt;希望能跟一名生活作息规律（本人正常上班作息），爱干净的女搭房合租，房东也是很好相处的一家人（有时候煮饺子还会送给我一份）&lt;br /&gt;公寓楼下有很大的游泳池， 还有刚重新购置新器材的免费健身房，烧烤台&lt;br /&gt;公寓离地铁站8分钟步行路程，楼下周围就有食阁和各种菜馆&lt;br /&gt;非中介，欢迎来看房。&lt;br /&gt;联系人:郑小姐&lt;br /&gt;电话：                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             靠近金文泰地铁,去景点超方便,公寓有免费的bus来回,只需5分钟｡,出门也有很多车,超方便,距离飞禽公园只需十分钟,吃饭,shopping 几分可以到达｡&lt;br /&gt;&lt;br /&gt;&lt;b&gt;The space&lt;/b&gt;&lt;br /&gt;温馨,方便,泳池 桑拿 网球 桌球都有&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Guest access&lt;/b&gt;&lt;br /&gt;家用电器齐全,房子装修很漂亮&lt;br /&gt;&lt;br /&gt;&lt;b&gt;During your stay&lt;/b&gt;&lt;br /&gt;任何时候                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
--------------------------------------------------------------------------------
neighborhood_overview 
       n  missing distinct 
    2289     1194     1019 

lowest : - 24 hours supermarkets, wet market and local/Chinese/Western/Thai/Japanese restaurants around (3-10 mins walk)&lt;br /&gt;- Singapore famous Ya Hua Bak Kut Teh restaurant (6-8 mins walk)&lt;br /&gt;- Tiong Bahru Market, authentic Chinese/Western/Thai/Indian/Malay food and local life, with colony/local style buildings around (12~15 minutes' walk)&lt;br /&gt;- Walking distance to Robertson Quay/Clark Quay/ Chinatown - night entertainment precinct in Singapore (15~25 minutes' walk)&lt;br /&gt;- Surrounded by Chinese/Western/Local restaurants and bars, durian shop, foot massage, wet market &amp; Fairprice supermarket, clinic, sports ground and playground                                                                                                                                                                                                        - 920 New Upper Changi Rd, Singapore 467356&lt;br /&gt;- 丹娜美拉地铁站                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              - Apartment is 5 mins walk from Farrer Park MRT, heritage walkup apartment near city sq mall and residences.&lt;br /&gt;- Enjoy the convenience of City Square Mall's cinemas/movies, supermarkets, food varieties, endless shopping.&lt;br /&gt;- Fringe of town, proximity to everything!&lt;br /&gt;- Access to TWO MRT lines: Farrer Park MRT (purple line) &amp; 8 mins walk to Lavender MRT (green line) &lt;br /&gt;- 1-4 stations away from Little India, Dhoby Gaut, Chinatown, Somerset, Bras Basah, Clarke Quay, Esplanade, Orchard, City Hall, Raffles Place, Bugis, Kallang.&lt;br /&gt;- 1-5 mins walk to Amenities! 24-hr food centres / Shopping centre (Mustafa) / Supermarket, etc.&lt;br /&gt;- 10 mins bus to CBD, City Area.                                                                                                                                                      - Apartment is along lavender street, 4/5 mins walk from MRT, an area of pre-war historical buildings for residential.&lt;br /&gt;- Access to TWO MRT lines: 4-5 mins walk from Lavender MRT (green line), or 9-10 mins walk from farrer park MRT (purple line)&lt;br /&gt;- Good location! proximity to everything! 24-hours food &amp; drinks outlets&lt;br /&gt;- 2 mins walk to Amenities (24-hr food centres / Supermarket, Mustafa, Aperia Mall, City Sq mall, etc)&lt;br /&gt;- 2 mins walk to Jalan Besar Public Swimming Pool, Olympic size &amp; $1/entry&lt;br /&gt;- 4 mins walk to lavender MRT, 1-3 stations away from Bugis, City Hall, Raffles Place, Promenade, Dhoby Gaut.&lt;br /&gt;- 4 mins walk to major roads bus stops (lavender street, Victoria street, Jalan besar)&lt;br /&gt;- 10 to 15 mins bus ride to CBD areas for work, boat quay &amp; clarke quay for night entertainments, etc. - Apartment is along lavender street, an area of pre-war historical buildings for residential. - Access to TWO MRT lines: 4-5 mins walk from Lavender MRT (green line), or 9-10 mins walk from farrer park MRT (purple line) - Good location! proximity to everything! 24-hours food &amp; drinks outlets - 2 mins walk to Amenities (24-hr food centres / Supermarket such as Mustafa, Apheria shopping mall) - 2 mins walk to Jalan Besar Public Swimming Pool, Olympic size. ($1/entry for all) &amp; Gymnasium ($1/entry) - 4 mins walk to lavender MRT, 1-3 stations away from Bugis, City Hall, Raffles Place, Promenade, Dhoby Gaut. - 4 mins walk to major roads bus stops (lavender street, Victoria street, Jalan besar) - 10 to 15 mins bus ride to CBD areas for work, boat quay &amp; clarke quay for night entertainments, etc.                             
highest: 诺维娜地铁站步行15分。&lt;br /&gt;公交车，131. 141. 56. 57. 166. 851. 980&lt;br /&gt;超市，食阁等小商店步行10分钟全部包含！                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                距离机场开车十分钟，有直达的巴士。距离淡滨尼地铁站走路五分钟，附近有HUB，超市楼下就是巴士站。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  这个是一个很靠近市中心的地方，下楼就是地铁站，公寓对面就是美食中心                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             靠近Novena地铁站 旁边有中山公园， 去市区很便利 环境优美 不二之选                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               靠近购物中心 JEM/WESTGATE/IMM/JCUBE; 靠近CPF 大楼和图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
--------------------------------------------------------------------------------
picture_url 
       n  missing distinct 
    3483        0     3286 

lowest : https://a0.muscache.com/pictures/0021a11a-3e1e-4fd6-8750-2452b155b86a.jpg                                                  https://a0.muscache.com/pictures/002d3b24-e6cd-49a4-990a-d1449685c1bc.jpg                                                  https://a0.muscache.com/pictures/00588993-a393-4c2a-85db-03e40645b98a.jpg                                                  https://a0.muscache.com/pictures/006f696b-02f9-44b6-912d-9f01bde7ff87.jpg                                                  https://a0.muscache.com/pictures/00aa288e-109d-41fe-86cf-3fc2e41c2585.jpg                                                 
highest: https://a0.muscache.com/pictures/prohost-api/Hosting-964942756834030438/original/b2d7b123-06c0-4c61-8847-755e5df24abf.jpeg https://a0.muscache.com/pictures/prohost-api/Hosting-978003821574036108/original/0a220ec2-9240-40c5-87f9-e934fd9cb3a5.jpeg https://a0.muscache.com/pictures/prohost-api/Hosting-978136698520856012/original/f80b56f7-7565-42b4-9818-c168407f8d0c.jpeg https://a0.muscache.com/pictures/prohost-api/Hosting-980114232206983257/original/c320dc14-e8b9-423a-9200-ad7749b7f17b.jpeg https://a0.muscache.com/pictures/prohost-api/Hosting-983816667259294620/original/4635c47e-a4e8-463b-be34-4a9ecf411919.jpeg
--------------------------------------------------------------------------------
host_id 
        n   missing  distinct      Info      Mean       Gmd       .05       .10 
     3483         0       915     0.999 154421232 163271733   2413412   8948251 
      .25       .50       .75       .90       .95 
 29032695 107599478 238891646 463308915 477798968 

lowest :     23666    218232    228867    367042    437092
highest: 532993649 533015974 535448492 535899829 536857130
--------------------------------------------------------------------------------
host_url 
       n  missing distinct 
    3483        0      915 

lowest : https://www.airbnb.com/users/show/100353323 https://www.airbnb.com/users/show/100474068 https://www.airbnb.com/users/show/100661714 https://www.airbnb.com/users/show/101063459 https://www.airbnb.com/users/show/101144565
highest: https://www.airbnb.com/users/show/98310459  https://www.airbnb.com/users/show/9899270   https://www.airbnb.com/users/show/9900768   https://www.airbnb.com/users/show/9950908   https://www.airbnb.com/users/show/9985120  
--------------------------------------------------------------------------------
host_name 
       n  missing distinct 
    3483        0      728 

lowest : Aaron        Abby         Abdul        Accomodation Adam        
highest: 莉           豪狄         雅琪         静           风雨同舟    
--------------------------------------------------------------------------------
host_since 
         n    missing   distinct       Info       Mean        Gmd        .05 
      3483          0        775      0.999 2017-03-15       1202 2012-05-19 
       .10        .25        .50        .75        .90        .95 
2013-09-20 2015-03-09 2016-12-17 2019-01-25 2022-06-08 2022-09-02 

lowest : 2009-06-29 2010-08-31 2010-09-08 2011-01-29 2011-03-12
highest: 2023-08-20 2023-08-21 2023-09-04 2023-09-06 2023-09-12
--------------------------------------------------------------------------------
host_location 
       n  missing distinct 
    2236     1247       46 

lowest : Agadir, Morocco        Amsterdam, Netherlands Australia              Bangkok, Thailand      Barbastro, Spain      
highest: Thunder Bay, Canada    Ulsan, South Korea     United States          Uttar Pradesh, India   Vancouver, Canada     
--------------------------------------------------------------------------------
host_about 
       n  missing distinct 
    2348     1135      429 

lowest : 
                                                                                                                                                                                                                                                            

Fun-loving and easy going guest earn brownie discount from me! =D                                                                                                                                                                                       " It is not only what we do, but also what we do not do, for which we are accountable. " - Moliere                                                                                                                                                            "Mi Casa Es Su Casa"
My home is your home! 


                                                                                                                                                                                                            (SG Clean Certified Premises) Conveniently located on Singapore’s bustling Orchard Road, Orchard Point Serviced Apartments is where you can relax and unwind in very spacious, fully-furnished comfort.                                                      
highest: 我的微信号daili753867.请加微信沟通交流。手机号已更换，谢谢。                                                                                                                                                                                                  打造了一个回归大自然世界与你分享. Travelled the world for leisure and work. If you like to occasionally escape the city and enjoy rustic living with space, fresh air and tranquillity, this is the right place for you. 打造了一个回归大自然世界与你分享

 本公司有多年租房经验 希望给你一段美好的旅程                                                                                                                                                                                                                   爱旅游的小伙伴们，欢迎来我的Loft公寓放飞身心~~                                                                                                                                                                                                                爱旅行，爱生活！                                                                                                                                                                                                                                             
--------------------------------------------------------------------------------
host_response_time 
       n  missing distinct 
    3483        0        5 
                                                                   
Value      a few days or more                N/A       within a day
Frequency                 155                758                536
Proportion              0.045              0.218              0.154
                                                
Value      within a few hours     within an hour
Frequency                 982               1052
Proportion              0.282              0.302
--------------------------------------------------------------------------------
host_response_rate 
       n  missing distinct 
    3483        0       38 

lowest : 0%   10%  100% 17%  20% , highest: 96%  97%  98%  99%  N/A 
--------------------------------------------------------------------------------
host_acceptance_rate 
       n  missing distinct 
    3483        0       58 

lowest : 0%   100% 20%  21%  22% , highest: 96%  97%  98%  99%  N/A 
--------------------------------------------------------------------------------
host_is_superhost 
       n  missing distinct 
    3294      189        2 
                      
Value      FALSE  TRUE
Frequency   2945   349
Proportion 0.894 0.106
--------------------------------------------------------------------------------
host_thumbnail_url 
       n  missing distinct 
    3483        0      892 

lowest : https://a0.muscache.com/defaults/user_pic-50x50.png?v=3                                                    https://a0.muscache.com/im/pictures/user/00084ad2-88f5-4ad7-8658-44f2935a80a5.jpg?aki_policy=profile_small https://a0.muscache.com/im/pictures/user/00637f2b-63b7-4819-aef1-e72385509e05.jpg?aki_policy=profile_small https://a0.muscache.com/im/pictures/user/006c7e8f-f1ce-4887-900e-efce9f28617c.jpg?aki_policy=profile_small https://a0.muscache.com/im/pictures/user/0089d36e-43a0-4f3a-be6f-8db12404a6a0.jpg?aki_policy=profile_small
highest: https://a0.muscache.com/im/users/8773916/profile_pic/1407292116/original.jpg?aki_policy=profile_small      https://a0.muscache.com/im/users/9027051/profile_pic/1380029570/original.jpg?aki_policy=profile_small      https://a0.muscache.com/im/users/9410772/profile_pic/1381721062/original.jpg?aki_policy=profile_small      https://a0.muscache.com/im/users/9748143/profile_pic/1423588679/original.jpg?aki_policy=profile_small      https://a0.muscache.com/im/users/9900768/profile_pic/1400426554/original.jpg?aki_policy=profile_small     
--------------------------------------------------------------------------------
host_picture_url 
       n  missing distinct 
    3483        0      892 

lowest : https://a0.muscache.com/defaults/user_pic-225x225.png?v=3                                                     https://a0.muscache.com/im/pictures/user/00084ad2-88f5-4ad7-8658-44f2935a80a5.jpg?aki_policy=profile_x_medium https://a0.muscache.com/im/pictures/user/00637f2b-63b7-4819-aef1-e72385509e05.jpg?aki_policy=profile_x_medium https://a0.muscache.com/im/pictures/user/006c7e8f-f1ce-4887-900e-efce9f28617c.jpg?aki_policy=profile_x_medium https://a0.muscache.com/im/pictures/user/0089d36e-43a0-4f3a-be6f-8db12404a6a0.jpg?aki_policy=profile_x_medium
highest: https://a0.muscache.com/im/users/8773916/profile_pic/1407292116/original.jpg?aki_policy=profile_x_medium      https://a0.muscache.com/im/users/9027051/profile_pic/1380029570/original.jpg?aki_policy=profile_x_medium      https://a0.muscache.com/im/users/9410772/profile_pic/1381721062/original.jpg?aki_policy=profile_x_medium      https://a0.muscache.com/im/users/9748143/profile_pic/1423588679/original.jpg?aki_policy=profile_x_medium      https://a0.muscache.com/im/users/9900768/profile_pic/1400426554/original.jpg?aki_policy=profile_x_medium     
--------------------------------------------------------------------------------
host_neighbourhood 
       n  missing distinct 
    3250      233       59 

lowest : Ang Mo Kio         Arab Street        Bedok              Bishan             Bugis/Kampong Glam
highest: Tuas               Wan Chai           West Kowloon       Woodlands          Yishun            
--------------------------------------------------------------------------------
host_listings_count 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       44    0.995     87.2    130.4        1        1 
     .25      .50      .75      .90      .95 
       3       14       79      290      571 
                                                                            
Value          0     5    10    15    20    25    30    35    40    50    55
Frequency   1019   495   270   158    31    51    59   128    73    58    61
Proportion 0.293 0.142 0.078 0.045 0.009 0.015 0.017 0.037 0.021 0.017 0.018
                                                                
Value         60    70    75    90    95   145   270   290   570
Frequency    124    71    79   106    28   139   144   136   253
Proportion 0.036 0.020 0.023 0.030 0.008 0.040 0.041 0.039 0.073

For the frequency table, variable is rounded to the nearest 5
--------------------------------------------------------------------------------
host_total_listings_count 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       61    0.998    145.7    217.3        1        2 
     .25      .50      .75      .90      .95 
       5       20      126      604      847 

lowest :   1   2   3   4   5, highest: 265 348 509 604 847
--------------------------------------------------------------------------------
host_verifications 
       n  missing distinct 
    3483        0        7 

lowest : ['email', 'phone', 'work_email'] ['email', 'phone']               ['email', 'work_email']          ['email']                        ['phone', 'work_email']         
highest: ['email', 'work_email']          ['email']                        ['phone', 'work_email']          ['phone']                        []                              
--------------------------------------------------------------------------------
host_has_profile_pic 
       n  missing distinct 
    3483        0        2 
                      
Value      FALSE  TRUE
Frequency     47  3436
Proportion 0.013 0.987
--------------------------------------------------------------------------------
host_identity_verified 
       n  missing distinct 
    3483        0        2 
                      
Value      FALSE  TRUE
Frequency    371  3112
Proportion 0.107 0.893
--------------------------------------------------------------------------------
neighbourhood 
       n  missing distinct 
    2289     1194       43 

lowest : Bugis, Singapore                   Changi, Singapore                  Chinatown, Singapore               Clementi, Singapore                Dhoby Ghaut, Singapore            
highest: Tanjong Pagar, Singapore           Tiong Bahru/Outram Park, Singapore West Coast, 新加坡, Singapore      Woodlands , Singapore              新加坡, Singapore                 
--------------------------------------------------------------------------------
neighbourhood_cleansed 
       n  missing distinct 
    3483        0       44 

lowest : Ang Mo Kio              Bedok                   Bishan                  Bukit Batok             Bukit Merah            
highest: Toa Payoh               Tuas                    Western Water Catchment Woodlands               Yishun                 
--------------------------------------------------------------------------------
neighbourhood_group_cleansed 
       n  missing distinct 
    3483        0        5 
                                                                
Value         Central Region       East Region North-East Region
Frequency               2806               193               130
Proportion             0.806             0.055             0.037
                                              
Value           North Region       West Region
Frequency                 92               262
Proportion             0.026             0.075
--------------------------------------------------------------------------------
latitude 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0     2779        1    1.311  0.03214    1.276    1.281 
     .25      .50      .75      .90      .95 
   1.291    1.305    1.318    1.348    1.379 

lowest : 1.22169 1.22183 1.22237 1.22284 1.22353
highest: 1.45054 1.45152 1.45306 1.45328 1.4578 
--------------------------------------------------------------------------------
longitude 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0     2813        1    103.8  0.04467    103.8    103.8 
     .25      .50      .75      .90      .95 
   103.8    103.8    103.9    103.9    103.9 

lowest : 103.635 103.648 103.664 103.679 103.682
highest: 103.971 103.978 103.985 103.986 103.99 
--------------------------------------------------------------------------------
property_type 
       n  missing distinct 
    3483        0       52 

lowest : Boat                       Campsite                   Casa particular            Entire condo               Entire guest suite        
highest: Shared room in hostel      Shared room in hotel       Shared room in rental unit Shared room in riad        Tiny home                 
--------------------------------------------------------------------------------
room_type 
       n  missing distinct 
    3483        0        4 
                                                                          
Value      Entire home/apt      Hotel room    Private room     Shared room
Frequency             1585             128            1627             143
Proportion           0.455           0.037           0.467           0.041
--------------------------------------------------------------------------------
accommodates 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       14    0.919    2.817    2.006        1        1 
     .25      .50      .75      .90      .95 
       2        2        4        6        6 
                                                                            
Value       1.00  1.90  2.95  4.00  4.90  5.95  7.00  7.90  8.95 10.00 11.95
Frequency    843  1392   290   462   128   220    40    34     3    21    15
Proportion 0.242 0.400 0.083 0.133 0.037 0.063 0.011 0.010 0.001 0.006 0.004
                            
Value      13.00 14.95 16.00
Frequency      7     1    27
Proportion 0.002 0.000 0.008

For the frequency table, variable is rounded to the nearest 0.15
--------------------------------------------------------------------------------
bathrooms_text 
       n  missing distinct 
    3464       19       39 

lowest : 0 baths           0 shared baths    1 bath            1 private bath    1 shared bath    
highest: 8.5 baths         8.5 shared baths  Half-bath         Private half-bath Shared half-bath 
--------------------------------------------------------------------------------
bedrooms 
       n  missing distinct     Info     Mean      Gmd 
    1995     1488        5    0.669    1.447   0.6706 
                                        
Value          1     2     3     4     5
Frequency   1367   404   190    28     6
Proportion 0.685 0.203 0.095 0.014 0.003

For the frequency table, variable is rounded to the nearest 0.04
--------------------------------------------------------------------------------
beds 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3386       97       17    0.704      1.8    1.298        1        1 
     .25      .50      .75      .90      .95 
       1        1        2        3        4 
                                                                            
Value       1.00  1.90  2.80  3.70  4.60  5.95  6.85  7.75  8.65 10.00 11.80
Frequency   2239   619   242   139    30    37     4    17     8    18    10
Proportion 0.661 0.183 0.071 0.041 0.009 0.011 0.001 0.005 0.002 0.005 0.003
                                              
Value      12.70 15.85 19.90 28.00 35.65 46.00
Frequency      2    17     1     1     1     1
Proportion 0.001 0.005 0.000 0.000 0.000 0.000

For the frequency table, variable is rounded to the nearest 0.45
--------------------------------------------------------------------------------
amenities 
       n  missing distinct 
    3483        0     2815 

lowest : ["40\" TV with standard cable", "Shampoo", "Fire extinguisher", "Drying rack for clothing", "Self check-in", "AC - split type ductless system", "Bed linens", "Clothing storage: closet and wardrobe", "Hot water kettle", "Shared gym in building", "Wifi", "Carbon monoxide alarm", "Private entrance", "Rice maker", "Refrigerator", "Crib", "Backyard", "Standalone high chair - available upon request", "Iron", "Dining table", "Dishes and silverware", "Washer", "Shared outdoor pool - available all year, open specific hours", "Cooking basics", "Essentials", "Luggage dropoff allowed", "Security cameras on property", "Smoke alarm", "Kitchen", "Long term stays allowed", "Children\u2019s books and toys", "Hangers", "Cleaning products", "Hair dryer", "Safe", "EV charger", "Bathtub", "Hot water", "Dedicated workspace", "Extra pillows and blankets", "Microwave", "Dryer", "Free parking on premises", "Pets allowed", "Shower gel", "Elevator", "Building staff", "Pack \u2019n play/Travel crib"]                                                   ["40\" TV with standard cable", "Shampoo", "Fire extinguisher", "Drying rack for clothing", "Self check-in", "AC - split type ductless system", "Bed linens", "Clothing storage: closet and wardrobe", "Hot water kettle", "Shared gym in building", "Wifi", "Private entrance", "Rice maker", "Free washer \u2013 In unit", "Refrigerator", "Crib", "Iron", "Dining table", "Dishes and silverware", "Body soap", "Exercise equipment", "Shared outdoor pool - available all year, open specific hours", "High chair", "Essentials", "Cooking basics", "Luggage dropoff allowed", "Security cameras on property", "Smoke alarm", "Kitchen", "Long term stays allowed", "Children\u2019s books and toys", "First aid kit", "Hangers", "Shared backyard \u2013 Fully fenced", "Hair dryer", "Safe", "EV charger", "Bathtub", "Hot water", "Dedicated workspace", "Extra pillows and blankets", "Microwave", "Free parking on premises", "Free dryer \u2013 In unit", "Shower gel", "Pets allowed", "Elevator", "Building staff", "Pack \u2019n play/Travel crib"]           ["40\" TV with standard cable", "Shampoo", "Fire extinguisher", "Drying rack for clothing", "Self check-in", "AC - split type ductless system", "Bed linens", "Clothing storage: closet and wardrobe", "Shared gym in building", "Wifi", "Carbon monoxide alarm", "Private entrance", "Rice maker", "Free washer \u2013 In unit", "Refrigerator", "Crib", "Backyard", "Standalone high chair - available upon request", "Iron", "Dining table", "Dishes and silverware", "Shared outdoor pool - available all year, open specific hours", "Exercise equipment", "Cooking basics", "Essentials", "Luggage dropoff allowed", "Security cameras on property", "Smoke alarm", "Kitchen", "Long term stays allowed", "Children\u2019s books and toys", "First aid kit", "Hangers", "Cleaning products", "Hair dryer", "Safe", "EV charger", "Hot water", "Dedicated workspace", "Extra pillows and blankets", "Microwave", "Free parking on premises", "Free dryer \u2013 In unit", "Shower gel", "Pets allowed", "Elevator", "Building staff", "Pack \u2019n play/Travel crib"] ["40\" TV with standard cable", "Shampoo", "Fire extinguisher", "Self check-in", "AC - split type ductless system", "Shared gym in building", "Wifi", "Carbon monoxide alarm", "Refrigerator", "Crib", "Backyard", "Iron", "Dishes and silverware", "Cooking basics", "Essentials", "Luggage dropoff allowed", "Security cameras on property", "Shared pool", "Smoke alarm", "Kitchen", "Long term stays allowed", "First aid kit", "Hangers", "Hair dryer", "Hot water", "Dedicated workspace", "Microwave", "Single level home", "Free parking on premises", "Free dryer \u2013 In unit", "Pets allowed", "Elevator", "Building staff", "Free washer \u2013 In unit"]                                                                                                                                                                                                                                                                                                                                                                                                       ["42\" HDTV with Netflix, standard cable", "ELBA electric stove", "Shampoo", "Fire extinguisher", "Self check-in", "AC - split type ductless system", "Bed linens", "Outdoor furniture", "Shared gym in building", "Wifi", "Private entrance", "Free washer \u2013 In unit", "Refrigerator", "Crib", "Keypad", "Iron", "Dishes and silverware", "Shared outdoor pool - available all year, open specific hours", "Exercise equipment", "High chair", "Essentials", "Cooking basics", "Luggage dropoff allowed", "Kitchen", "Long term stays allowed", "Shared backyard \u2013 Not fully fenced", "First aid kit", "BBQ grill", "Hangers", "Hair dryer", "Hot water", "Dedicated workspace", "Extra pillows and blankets", "Microwave", "Free parking on premises", "Free dryer \u2013 In unit", "Elevator", "Pack \u2019n play/Travel crib"]                                                                                                                                                                                                                               
highest: ["Wifi", "Essentials"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ["Wifi", "Gym", "Air conditioning", "Private entrance", "Refrigerator", "TV", "Iron", "Pool", "Patio or balcony", "Dishes and silverware", "Washer", "Cooking basics", "Kitchen", "Long term stays allowed", "First aid kit", "BBQ grill", "Hair dryer", "Stove", "Oven", "Microwave", "Single level home", "Dryer", "Free parking on premises", "Elevator"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     ["Wifi", "Pets allowed", "Smoking allowed"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ["Wifi", "Smoke alarm", "Free parking on premises"]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              []                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
--------------------------------------------------------------------------------
price 
       n  missing distinct 
    3483        0      577 

lowest : $1,000.00 $1,010.00 $1,018.00 $1,025.00 $1,030.00
highest: $989.00   $99.00    $990.00   $998.00   $999.00  
--------------------------------------------------------------------------------
minimum_nights 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       51    0.807    67.28    53.12        1        1 
     .25      .50      .75      .90      .95 
       6       92       92       92       93 

lowest :    1    2    3    4    5, highest:  366  700  730  900 1000
--------------------------------------------------------------------------------
maximum_nights 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       72    0.809    811.2    466.8      180      365 
     .25      .50      .75      .90      .95 
     365     1125     1125     1125     1125 

lowest :      2      3      5      6      7, highest:   1123   1124   1125   9001 100000
--------------------------------------------------------------------------------
minimum_minimum_nights 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       53    0.809    67.27    53.28        1        1 
     .25      .50      .75      .90      .95 
       6       92       92       92       93 

lowest :    1    2    3    4    5, highest:  366  700  730  900 1000
--------------------------------------------------------------------------------
maximum_minimum_nights 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       52    0.831    74.04    64.78        1        1 
     .25      .50      .75      .90      .95 
       6       92       92       92      180 

lowest :    1    2    3    4    5, highest:  366  700  730  900 1000
--------------------------------------------------------------------------------
minimum_maximum_nights 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       71    0.745    891.4    516.6      100      365 
     .25      .50      .75      .90      .95 
     365     1125     1125     1125     1125 

lowest :      1      2      3      4      5, highest:   1124   1125   9001   9999 100000
--------------------------------------------------------------------------------
maximum_maximum_nights 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       67    0.731    904.6    504.7      180      365 
     .25      .50      .75      .90      .95 
     365     1125     1125     1125     1125 

lowest :      1      2      3      5      7, highest:   1124   1125   9001   9999 100000
--------------------------------------------------------------------------------
minimum_nights_avg_ntm 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0      104    0.832    73.41    64.11        1        1 
     .25      .50      .75      .90      .95 
       6       92       92       92      180 

lowest : 1    1.1  1.3  1.4  1.5 , highest: 366  700  730  900  1000
--------------------------------------------------------------------------------
maximum_nights_avg_ntm 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       87    0.746    893.1      514      150      365 
     .25      .50      .75      .90      .95 
     365     1125     1125     1125     1125 

lowest :      1      2      3      5      7, highest:   1124   1125   9001   9999 100000
--------------------------------------------------------------------------------
has_availability 
       n  missing distinct 
    3483        0        2 
                      
Value      FALSE  TRUE
Frequency    382  3101
Proportion  0.11  0.89
--------------------------------------------------------------------------------
availability_30 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       31    0.944    15.97    14.21        0        0 
     .25      .50      .75      .90      .95 
       0       22       29       30       30 

lowest :  0  1  2  3  4, highest: 26 27 28 29 30
--------------------------------------------------------------------------------
availability_60 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       61    0.964       35    27.76        0        0 
     .25      .50      .75      .90      .95 
       0       51       59       60       60 

lowest :  0  1  2  3  4, highest: 56 57 58 59 60
--------------------------------------------------------------------------------
availability_90 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       91    0.973    55.29    40.49        0        0 
     .25      .50      .75      .90      .95 
       1       79       89       90       90 

lowest :  0  1  2  3  4, highest: 86 87 88 89 90
--------------------------------------------------------------------------------
availability_365 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0      306    0.988    235.7    154.7        0        0 
     .25      .50      .75      .90      .95 
      90      312      364      364      365 

lowest :   0   1   2   3   4, highest: 361 362 363 364 365
--------------------------------------------------------------------------------
calendar_last_scraped 
         n    missing   distinct       Info       Mean        Gmd 
      3483          0          1          0 2023-09-23          0 
                     
Value      2023-09-23
Frequency        3483
Proportion          1
--------------------------------------------------------------------------------
number_of_reviews 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0      156    0.906    10.25     17.6        0        0 
     .25      .50      .75      .90      .95 
       0        1        5       24       54 

lowest :   0   1   2   3   4, highest: 296 299 369 407 665
--------------------------------------------------------------------------------
number_of_reviews_ltm 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       67    0.546    2.254    4.189        0        0 
     .25      .50      .75      .90      .95 
       0        0        0        4       11 

lowest :   0   1   2   3   4, highest: 111 160 214 265 404
--------------------------------------------------------------------------------
number_of_reviews_l30d 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       14    0.226   0.1904   0.3631        0        0 
     .25      .50      .75      .90      .95 
       0        0        0        0        1 
                                                                            
Value       0.00  0.88  1.98  2.86  3.96  4.84  5.94  6.82  8.80 11.00 11.88
Frequency   3198   157    53    30    13    11     7     6     2     1     1
Proportion 0.918 0.045 0.015 0.009 0.004 0.003 0.002 0.002 0.001 0.000 0.000
                            
Value      13.86 20.90 22.00
Frequency      1     2     1
Proportion 0.000 0.001 0.000

For the frequency table, variable is rounded to the nearest 0.22
--------------------------------------------------------------------------------
first_review 
         n    missing   distinct       Info       Mean        Gmd        .05 
      1918       1565       1333          1 2019-11-26       1089 2015-09-08 
       .10        .25        .50        .75        .90        .95 
2016-04-26 2018-01-02 2019-11-09 2022-05-25 2023-04-30 2023-07-08 

lowest : 2011-05-04 2011-07-30 2011-12-19 2012-01-28 2012-04-12
highest: 2023-09-15 2023-09-16 2023-09-17 2023-09-18 2023-09-19
--------------------------------------------------------------------------------
last_review 
         n    missing   distinct       Info       Mean        Gmd        .05 
      1918       1565       1012          1 2021-07-09      828.9 2017-10-05 
       .10        .25        .50        .75        .90        .95 
2018-09-18 2020-01-01 2021-12-28 2023-07-10 2023-09-03 2023-09-14 

lowest : 2014-07-14 2014-07-19 2014-11-27 2015-03-22 2015-10-28
highest: 2023-09-19 2023-09-20 2023-09-21 2023-09-22 2023-09-23
--------------------------------------------------------------------------------
review_scores_rating 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1918     1565      112    0.968     4.46   0.7046     3.00     4.00 
     .25      .50      .75      .90      .95 
    4.33     4.69     5.00     5.00     5.00 

lowest : 0    1    2    2.33 2.5 , highest: 4.95 4.96 4.97 4.98 5   
--------------------------------------------------------------------------------
review_scores_accuracy 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1884     1599      114    0.957     4.58   0.5476     3.50     4.00 
     .25      .50      .75      .90      .95 
    4.44     4.78     5.00     5.00     5.00 

lowest : 1    2    2.5  2.75 3   , highest: 4.95 4.96 4.97 4.98 5   
--------------------------------------------------------------------------------
review_scores_cleanliness 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1884     1599      137    0.972    4.497   0.6066     3.02     3.80 
     .25      .50      .75      .90      .95 
    4.27     4.67     5.00     5.00     5.00 

lowest : 1    1.67 2    2.25 2.5 , highest: 4.95 4.96 4.97 4.98 5   
--------------------------------------------------------------------------------
review_scores_checkin 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1884     1599       94    0.909    4.726   0.4006    4.000    4.250 
     .25      .50      .75      .90      .95 
   4.670    4.915    5.000    5.000    5.000 

lowest : 1    1.5  2    2.5  3   , highest: 4.96 4.97 4.98 4.99 5   
--------------------------------------------------------------------------------
review_scores_communication 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1885     1598       94    0.912    4.708   0.4332    3.944    4.170 
     .25      .50      .75      .90      .95 
   4.670    4.920    5.000    5.000    5.000 

lowest : 1    1.5  2    2.5  3   , highest: 4.96 4.97 4.98 4.99 5   
--------------------------------------------------------------------------------
review_scores_location 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1884     1599      108    0.934    4.691   0.4177     4.00     4.00 
     .25      .50      .75      .90      .95 
    4.57     4.85     5.00     5.00     5.00 

lowest : 1    1.5  2    3    3.25, highest: 4.96 4.97 4.98 4.99 5   
--------------------------------------------------------------------------------
review_scores_value 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1884     1599      128    0.982    4.441   0.6113    3.000    3.923 
     .25      .50      .75      .90      .95 
   4.207    4.570    5.000    5.000    5.000 

lowest : 1    2    2.33 2.5  2.8 , highest: 4.94 4.95 4.96 4.97 5   
--------------------------------------------------------------------------------
license 
       n  missing distinct 
    1295     2188      105 

lowest : Authorised Serviced Apartment L0003                         L0041                         L0050                         L0091                        
highest: S9075                         S9724                         S9740                         S9918                         S9960                        
--------------------------------------------------------------------------------
instant_bookable 
       n  missing distinct 
    3483        0        2 
                      
Value      FALSE  TRUE
Frequency   2191  1292
Proportion 0.629 0.371
--------------------------------------------------------------------------------
calculated_host_listings_count 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       37    0.994    50.81    68.74        1        1 
     .25      .50      .75      .90      .95 
       3       13       70      144      253 

lowest :   1   2   3   4   5, highest:  93 136 139 144 253
--------------------------------------------------------------------------------
calculated_host_listings_count_entire_homes 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       27     0.94    39.91    62.31        0        0 
     .25      .50      .75      .90      .95 
       0        1       27      144      238 
                                                                         
Value        0.00   2.38   4.76   7.14   9.52  11.90  14.28  21.42  23.80
Frequency    2054     74     79     71     40    102     16     54    107
Proportion  0.590  0.021  0.023  0.020  0.011  0.029  0.005  0.016  0.031
                                                                  
Value       26.18  38.08  61.88  78.54 130.90 135.66 142.80 238.00
Frequency      29     44     62     79    136    139    144    253
Proportion  0.008  0.013  0.018  0.023  0.039  0.040  0.041  0.073

For the frequency table, variable is rounded to the nearest 2.38
--------------------------------------------------------------------------------
calculated_host_listings_count_private_rooms 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       25    0.972    10.17    15.52        0        0 
     .25      .50      .75      .90      .95 
       0        2        9       26       61 

lowest :  0  1  2  3  4, highest: 43 51 61 69 91
--------------------------------------------------------------------------------
calculated_host_listings_count_shared_rooms 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    3483        0       12    0.185   0.3575   0.6918        0        0 
     .25      .50      .75      .90      .95 
       0        0        0        0        1 
                                                                            
Value       0.00  0.90  1.98  2.88  3.96  4.86  5.94  6.84  9.00  9.90 13.86
Frequency   3253    86    16    12     4    33    13     9     9    15    14
Proportion 0.934 0.025 0.005 0.003 0.001 0.009 0.004 0.003 0.003 0.004 0.004
                
Value      18.00
Frequency     19
Proportion 0.005

For the frequency table, variable is rounded to the nearest 0.18
--------------------------------------------------------------------------------
reviews_per_month 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
    1918     1565      283    0.998   0.5582   0.7781   0.0200   0.0200 
     .25      .50      .75      .90      .95 
  0.0500   0.1700   0.6275   1.5030   2.3330 

lowest : 0.01  0.02  0.03  0.04  0.05 , highest: 7.9   13.74 16.05 16.35 20.93
--------------------------------------------------------------------------------

Variables with all observations missing:

[1] bathrooms        calendar_updated</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="converting-aspatial-data-into-geospatial-feature-dataframes" class="level1">
<h1>Converting Aspatial Data into Geospatial feature Dataframes</h1>
<section id="using-st_as_sf" class="level2">
<h2 class="anchored" data-anchor-id="using-st_as_sf">Using <strong>st_as_sf()</strong></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>listings_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>   listings, </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>   <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"longitude"</span>, <span class="st">"latitude"</span>),</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>   <span class="at">crs=</span><span class="dv">4326</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="at">crs =</span> <span class="dv">3414</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="solvebox solve">
<ul>
<li><strong>coords</strong> &gt; provide the column name of the x-coordinates first then followed by the column name of the y-coordinates</li>
<li><strong>crs</strong> &gt; provide the coordinates system in epsg format. EPSG: 4326 is wgs84 Geographic Coordinate System and EPSG: 3414 is Singapore SVY21 Projected Coordinate System. This can be found at <em>epsg.io</em></li>
</ul>
</div>
</section>
<section id="checking-for-added-geometry-variable-in-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="checking-for-added-geometry-variable-in-dataframe">Checking for added <code>geometry</code> variable in dataframe:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(listings_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 3,483
Columns: 74
$ id                                           &lt;dbl&gt; 71609, 71896, 71903, 2753…
$ listing_url                                  &lt;chr&gt; "https://www.airbnb.com/r…
$ scrape_id                                    &lt;dbl&gt; 2.023092e+13, 2.023092e+1…
$ last_scraped                                 &lt;date&gt; 2023-09-23, 2023-09-23, …
$ source                                       &lt;chr&gt; "previous scrape", "previ…
$ name                                         &lt;chr&gt; "Villa in Singapore · ★4.…
$ description                                  &lt;chr&gt; "For 3 rooms.Book room 1&amp;…
$ neighborhood_overview                        &lt;chr&gt; NA, NA, "Quiet and view o…
$ picture_url                                  &lt;chr&gt; "https://a0.muscache.com/…
$ host_id                                      &lt;dbl&gt; 367042, 367042, 367042, 1…
$ host_url                                     &lt;chr&gt; "https://www.airbnb.com/u…
$ host_name                                    &lt;chr&gt; "Belinda", "Belinda", "Be…
$ host_since                                   &lt;date&gt; 2011-01-29, 2011-01-29, …
$ host_location                                &lt;chr&gt; "Singapore", "Singapore",…
$ host_about                                   &lt;chr&gt; "Hi My name is Belinda -H…
$ host_response_time                           &lt;chr&gt; "within a few hours", "wi…
$ host_response_rate                           &lt;chr&gt; "100%", "100%", "100%", "…
$ host_acceptance_rate                         &lt;chr&gt; "100%", "100%", "100%", "…
$ host_is_superhost                            &lt;lgl&gt; FALSE, FALSE, FALSE, FALS…
$ host_thumbnail_url                           &lt;chr&gt; "https://a0.muscache.com/…
$ host_picture_url                             &lt;chr&gt; "https://a0.muscache.com/…
$ host_neighbourhood                           &lt;chr&gt; "Tampines", "Tampines", "…
$ host_listings_count                          &lt;dbl&gt; 5, 5, 5, 52, 52, 5, 7, 52…
$ host_total_listings_count                    &lt;dbl&gt; 15, 15, 15, 65, 65, 15, 8…
$ host_verifications                           &lt;chr&gt; "['email', 'phone']", "['…
$ host_has_profile_pic                         &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, T…
$ host_identity_verified                       &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, T…
$ neighbourhood                                &lt;chr&gt; NA, NA, "Singapore, Singa…
$ neighbourhood_cleansed                       &lt;chr&gt; "Tampines", "Tampines", "…
$ neighbourhood_group_cleansed                 &lt;chr&gt; "East Region", "East Regi…
$ property_type                                &lt;chr&gt; "Private room in villa", …
$ room_type                                    &lt;chr&gt; "Private room", "Private …
$ accommodates                                 &lt;dbl&gt; 3, 1, 2, 1, 1, 4, 2, 1, 1…
$ bathrooms                                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, N…
$ bathrooms_text                               &lt;chr&gt; "1 private bath", "Shared…
$ bedrooms                                     &lt;dbl&gt; NA, NA, NA, NA, NA, 3, NA…
$ beds                                         &lt;dbl&gt; 3, 1, 2, 1, 1, 5, 1, 1, 1…
$ amenities                                    &lt;chr&gt; "[\"Private backyard \\u2…
$ price                                        &lt;chr&gt; "$150.00", "$80.00", "$80…
$ minimum_nights                               &lt;dbl&gt; 92, 92, 92, 60, 60, 92, 9…
$ maximum_nights                               &lt;dbl&gt; 365, 365, 365, 999, 999, …
$ minimum_minimum_nights                       &lt;dbl&gt; 92, 92, 92, 60, 60, 92, 9…
$ maximum_minimum_nights                       &lt;dbl&gt; 92, 92, 92, 60, 60, 92, 9…
$ minimum_maximum_nights                       &lt;dbl&gt; 1125, 1125, 1125, 1125, 1…
$ maximum_maximum_nights                       &lt;dbl&gt; 1125, 1125, 1125, 1125, 1…
$ minimum_nights_avg_ntm                       &lt;dbl&gt; 92, 92, 92, 60, 60, 92, 9…
$ maximum_nights_avg_ntm                       &lt;dbl&gt; 1125, 1125, 1125, 1125, 1…
$ calendar_updated                             &lt;lgl&gt; NA, NA, NA, NA, NA, NA, N…
$ has_availability                             &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, T…
$ availability_30                              &lt;dbl&gt; 28, 28, 28, 1, 30, 28, 30…
$ availability_60                              &lt;dbl&gt; 58, 58, 58, 1, 60, 58, 60…
$ availability_90                              &lt;dbl&gt; 88, 88, 88, 1, 90, 88, 90…
$ availability_365                             &lt;dbl&gt; 89, 89, 89, 275, 274, 89,…
$ calendar_last_scraped                        &lt;date&gt; 2023-09-23, 2023-09-23, …
$ number_of_reviews                            &lt;dbl&gt; 20, 24, 47, 22, 17, 12, 1…
$ number_of_reviews_ltm                        &lt;dbl&gt; 0, 0, 0, 0, 3, 0, 0, 1, 3…
$ number_of_reviews_l30d                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 1…
$ first_review                                 &lt;date&gt; 2011-12-19, 2011-07-30, …
$ last_review                                  &lt;date&gt; 2020-01-17, 2019-10-13, …
$ review_scores_rating                         &lt;dbl&gt; 4.44, 4.16, 4.41, 4.40, 4…
$ review_scores_accuracy                       &lt;dbl&gt; 4.37, 4.22, 4.39, 4.16, 4…
$ review_scores_cleanliness                    &lt;dbl&gt; 4.00, 4.09, 4.52, 4.26, 4…
$ review_scores_checkin                        &lt;dbl&gt; 4.63, 4.43, 4.63, 4.47, 4…
$ review_scores_communication                  &lt;dbl&gt; 4.78, 4.43, 4.64, 4.42, 4…
$ review_scores_location                       &lt;dbl&gt; 4.26, 4.17, 4.50, 4.53, 4…
$ review_scores_value                          &lt;dbl&gt; 4.32, 4.04, 4.36, 4.63, 4…
$ license                                      &lt;chr&gt; NA, NA, NA, "S0399", "S03…
$ instant_bookable                             &lt;lgl&gt; FALSE, FALSE, FALSE, TRUE…
$ calculated_host_listings_count               &lt;dbl&gt; 5, 5, 5, 52, 52, 5, 7, 52…
$ calculated_host_listings_count_entire_homes  &lt;dbl&gt; 0, 0, 0, 1, 1, 0, 1, 1, 1…
$ calculated_host_listings_count_private_rooms &lt;dbl&gt; 5, 5, 5, 51, 51, 5, 6, 51…
$ calculated_host_listings_count_shared_rooms  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ reviews_per_month                            &lt;dbl&gt; 0.14, 0.16, 0.31, 0.17, 0…
$ geometry                                     &lt;POINT [m]&gt; POINT (41972.5 3639…</code></pre>
</div>
</div>
</section>
</section>
<section id="geoprocessing-gis-analysis" class="level1">
<h1>Geoprocessing (GIS Analysis)</h1>
<section id="buffering" class="level2">
<h2 class="anchored" data-anchor-id="buffering"><strong>Buffering</strong></h2>
<p>Scenario:</p>
<p>Nparks is planning to upgrade the existing cycling paths. To do so, they need to acquire 5 metres of reserved land on both sides of the current cycling path. You are tasked to determine the extent of the land that needs to be acquired and its total area.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true"><strong>Define buffer zone</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false"><strong>Calculate Area Needed</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false"><strong>Sum() total land needed</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<p><code>st_buffer()</code> Creates a polygon covering all points of the geometry within a given distance.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#compute the 5-meter buffer zone</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>buffer_cycling <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(cyclingpath, </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># buffer distance</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">dist =</span> <span class="dv">5</span>, </span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># number of segments per quadrant</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">nQuadSegs =</span> <span class="dv">30</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<p><code>st_area()</code> returns the area of polygon geometries</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>buffer_cycling<span class="sc">$</span>AREA <span class="ot">&lt;-</span> <span class="fu">st_area</span>(buffer_cycling)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(buffer_cycling<span class="sc">$</span>AREA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1774367 [m^2]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="point-in-polygon" class="level2">
<h2 class="anchored" data-anchor-id="point-in-polygon"><strong>Point-in-polygon</strong></h2>
<p>Scenario:</p>
<p>A pre-school service group wants to find out the number of pre-schools in each Planning Subzone.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true"><strong>Identify and Count</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false"><strong>Summary Statistics</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-3" role="tab" aria-controls="tabset-8-3" aria-selected="false"><strong>List the Top Subzones</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>mpsz3414<span class="sc">$</span>PreSch_count<span class="ot">&lt;-</span> <span class="fu">lengths</span>(<span class="fu">st_intersects</span>(mpsz3414, preschool3414))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>st_intersects()</code> identifies pre-schools located inside each Planning Subzone by</li>
<li><code>length()</code> of Base R is used to calculate number of pre-schools that fall inside each planning subzone</li>
</ul>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mpsz3414<span class="sc">$</span>PreSch_count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   0.00    0.00    4.00    7.09   10.00   72.00 </code></pre>
</div>
</div>
</div>
<div id="tabset-8-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">top_n</span>(mpsz3414, <span class="dv">1</span>, PreSch_count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 1 feature and 16 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 39655.33 ymin: 35966 xmax: 42940.57 ymax: 38622.37
Projected CRS: SVY21 / Singapore TM
  OBJECTID SUBZONE_NO     SUBZONE_N SUBZONE_C CA_IND PLN_AREA_N PLN_AREA_C
1      189          2 TAMPINES EAST    TMSZ02      N   TAMPINES         TM
     REGION_N REGION_C          INC_CRC FMEL_UPD_D   X_ADDR   Y_ADDR SHAPE_Leng
1 EAST REGION       ER 21658EAAF84F4D8D 2014-12-05 41122.55 37392.39   10180.62
  SHAPE_Area                       geometry PreSch_count
1    4339824 MULTIPOLYGON (((42196.76 38...           72</code></pre>
</div>
</div>
</div>
</div>
</div>
<section id="what-is-the-density-of-pre-schools-by-planning-subzone" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-density-of-pre-schools-by-planning-subzone"><strong>What is the density of pre-schools by planning subzone?</strong></h3>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true"><strong>Step 1: Calculate area of each subzone</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false"><strong>Step 2: Compute Density</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-3" role="tab" aria-controls="tabset-9-3" aria-selected="false"><strong>Step 3: Check Density</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>mpsz3414<span class="sc">$</span>Area <span class="ot">&lt;-</span> mpsz3414 <span class="sc">%&gt;%</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_area</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<p>Density = No.&nbsp;of preschools per subzone area</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>mpsz3414 <span class="ot">&lt;-</span> mpsz3414 <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PreSch_density =</span> PreSch_count<span class="sc">/</span>Area <span class="sc">*</span> <span class="dv">1000000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-9-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mpsz3414<span class="sc">$</span>PreSch_density)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  0.000   0.000   5.154   6.449  10.908  35.602 </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="exploratory-analysis" class="level1">
<h1>Exploratory Analysis</h1>
<section id="what-is-the-distribution-of-preschool-density" class="level2">
<h2 class="anchored" data-anchor-id="what-is-the-distribution-of-preschool-density">What is the distribution of Preschool Density?</h2>
<div class="cell">
<details>
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set_urbn_defaults</span>(<span class="at">style =</span> <span class="st">"print"</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mpsz3414, </span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(PreSch_density))</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">bins =</span> <span class="dv">20</span>, </span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#FFFCF9"</span>, </span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"#1F363D"</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Are pre-schools evenly distributed in Singapore?"</span>,</span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle=</span> <span class="st">"There are many planning sub-zones with a single pre-school. </span><span class="sc">\n</span><span class="st">However, there are also 2 planning sub-zones with &gt;20 pre-schools"</span>,</span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Pre-school density (per km sq)"</span>,</span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Frequency"</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>()</span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mpsz3414, </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">y =</span> PreSch_count, </span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.numeric</span>(PreSch_density))</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#1F363D"</span>,</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> .<span class="dv">6</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Pre-school density (per km sq)"</span>,</span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Pre-school count"</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>()</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><font size="5"><strong>Cloropleth Mapping</strong></font></p>
</section>
</section>
<section id="importing-attribute-data" class="level1">
<h1>Importing Attribute Data</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>popdata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/aspatial/respopagesexfa2011to2020.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 738492 Columns: 7
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): PA, SZ, AG, Sex, FA
dbl (2): Pop, Time

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
</section>
<section id="data-preparation" class="level1">
<h1>Data Preparation</h1>
<section id="how-does-the-data-look-like" class="level2">
<h2 class="anchored" data-anchor-id="how-does-the-data-look-like">How does the data look like?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(popdata,<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_width =</span> F, </span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> PA </th>
   <th style="text-align:left;"> SZ </th>
   <th style="text-align:left;"> AG </th>
   <th style="text-align:left;"> Sex </th>
   <th style="text-align:left;"> FA </th>
   <th style="text-align:right;"> Pop </th>
   <th style="text-align:right;"> Time </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Ang Mo Kio </td>
   <td style="text-align:left;"> Ang Mo Kio Town Centre </td>
   <td style="text-align:left;"> 0_to_4 </td>
   <td style="text-align:left;"> Males </td>
   <td style="text-align:left;"> &lt;= 60 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2011 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Ang Mo Kio </td>
   <td style="text-align:left;"> Ang Mo Kio Town Centre </td>
   <td style="text-align:left;"> 0_to_4 </td>
   <td style="text-align:left;"> Males </td>
   <td style="text-align:left;"> &gt;60 to 80 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 2011 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Ang Mo Kio </td>
   <td style="text-align:left;"> Ang Mo Kio Town Centre </td>
   <td style="text-align:left;"> 0_to_4 </td>
   <td style="text-align:left;"> Males </td>
   <td style="text-align:left;"> &gt;80 to 100 </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:right;"> 2011 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Ang Mo Kio </td>
   <td style="text-align:left;"> Ang Mo Kio Town Centre </td>
   <td style="text-align:left;"> 0_to_4 </td>
   <td style="text-align:left;"> Males </td>
   <td style="text-align:left;"> &gt;100 to 120 </td>
   <td style="text-align:right;"> 80 </td>
   <td style="text-align:right;"> 2011 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Ang Mo Kio </td>
   <td style="text-align:left;"> Ang Mo Kio Town Centre </td>
   <td style="text-align:left;"> 0_to_4 </td>
   <td style="text-align:left;"> Males </td>
   <td style="text-align:left;"> &gt;120 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> 2011 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Ang Mo Kio </td>
   <td style="text-align:left;"> Ang Mo Kio Town Centre </td>
   <td style="text-align:left;"> 0_to_4 </td>
   <td style="text-align:left;"> Males </td>
   <td style="text-align:left;"> Not Available </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2011 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Ang Mo Kio </td>
   <td style="text-align:left;"> Ang Mo Kio Town Centre </td>
   <td style="text-align:left;"> 0_to_4 </td>
   <td style="text-align:left;"> Females </td>
   <td style="text-align:left;"> &lt;= 60 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2011 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Ang Mo Kio </td>
   <td style="text-align:left;"> Ang Mo Kio Town Centre </td>
   <td style="text-align:left;"> 0_to_4 </td>
   <td style="text-align:left;"> Females </td>
   <td style="text-align:left;"> &gt;60 to 80 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 2011 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Ang Mo Kio </td>
   <td style="text-align:left;"> Ang Mo Kio Town Centre </td>
   <td style="text-align:left;"> 0_to_4 </td>
   <td style="text-align:left;"> Females </td>
   <td style="text-align:left;"> &gt;80 to 100 </td>
   <td style="text-align:right;"> 40 </td>
   <td style="text-align:right;"> 2011 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Ang Mo Kio </td>
   <td style="text-align:left;"> Ang Mo Kio Town Centre </td>
   <td style="text-align:left;"> 0_to_4 </td>
   <td style="text-align:left;"> Females </td>
   <td style="text-align:left;"> &gt;100 to 120 </td>
   <td style="text-align:right;"> 90 </td>
   <td style="text-align:right;"> 2011 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="extracting-2020-data-and-creating-pivot-table" class="level2">
<h2 class="anchored" data-anchor-id="extracting-2020-data-and-creating-pivot-table">Extracting 2020 Data and creating pivot table</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>popdata2020 <span class="ot">&lt;-</span> popdata <span class="sc">%&gt;%</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>    Time <span class="sc">==</span> <span class="dv">2020</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>    PA, SZ, AG</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">POP =</span> <span class="fu">sum</span>(Pop)</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> AG, </span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> POP</span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">YOUNG</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">rowSums</span>(.[<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>]) <span class="sc">+</span> <span class="fu">rowSums</span>(.[<span class="dv">12</span>]),</span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">ECONOMICALLY ACTIVE</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">rowSums</span>(.[<span class="dv">7</span><span class="sc">:</span><span class="dv">11</span>]) <span class="sc">+</span> <span class="fu">rowSums</span>(.[<span class="dv">13</span><span class="sc">:</span><span class="dv">15</span>]),</span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">AGED</span><span class="st">`</span><span class="ot">=</span> <span class="fu">rowSums</span>(.[<span class="dv">16</span><span class="sc">:</span><span class="dv">21</span>]),</span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">TOTAL</span><span class="st">`</span><span class="ot">=</span> <span class="fu">rowSums</span>(.[<span class="dv">3</span><span class="sc">:</span><span class="dv">21</span>])</span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span>  </span>
<span id="cb69-22"><a href="#cb69-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Define dependency ratio</span></span>
<span id="cb69-23"><a href="#cb69-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">DEPENDENCY</span><span class="st">`</span> <span class="ot">=</span> (<span class="st">`</span><span class="at">YOUNG</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">AGED</span><span class="st">`</span>)<span class="sc">/</span><span class="st">`</span><span class="at">ECONOMICALLY ACTIVE</span><span class="st">`</span></span>
<span id="cb69-24"><a href="#cb69-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-25"><a href="#cb69-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert PA and SZ fields to upper case</span></span>
<span id="cb69-26"><a href="#cb69-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="at">.vars =</span> <span class="fu">vars</span>(PA, SZ), </span>
<span id="cb69-27"><a href="#cb69-27" aria-hidden="true" tabindex="-1"></a>            <span class="at">.funs =</span> <span class="fu">funs</span>(toupper)</span>
<span id="cb69-28"><a href="#cb69-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-29"><a href="#cb69-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb69-30"><a href="#cb69-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">PA</span><span class="st">`</span>, <span class="st">`</span><span class="at">SZ</span><span class="st">`</span>, <span class="st">`</span><span class="at">YOUNG</span><span class="st">`</span>,<span class="st">`</span><span class="at">ECONOMICALLY ACTIVE</span><span class="st">`</span>, <span class="st">`</span><span class="at">AGED</span><span class="st">`</span>,<span class="st">`</span><span class="at">TOTAL</span><span class="st">`</span>, <span class="st">`</span><span class="at">DEPENDENCY</span><span class="st">`</span></span>
<span id="cb69-31"><a href="#cb69-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb69-32"><a href="#cb69-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get data for only economically active subzones</span></span>
<span id="cb69-33"><a href="#cb69-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">ECONOMICALLY ACTIVE</span><span class="st">`</span> <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(popdata2020,<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_width =</span> F, </span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> PA </th>
   <th style="text-align:left;"> SZ </th>
   <th style="text-align:right;"> YOUNG </th>
   <th style="text-align:right;"> ECONOMICALLY ACTIVE </th>
   <th style="text-align:right;"> AGED </th>
   <th style="text-align:right;"> TOTAL </th>
   <th style="text-align:right;"> DEPENDENCY </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> ANG MO KIO </td>
   <td style="text-align:left;"> ANG MO KIO TOWN CENTRE </td>
   <td style="text-align:right;"> 1440 </td>
   <td style="text-align:right;"> 2640 </td>
   <td style="text-align:right;"> 770 </td>
   <td style="text-align:right;"> 4850 </td>
   <td style="text-align:right;"> 0.8371212 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ANG MO KIO </td>
   <td style="text-align:left;"> CHENG SAN </td>
   <td style="text-align:right;"> 6660 </td>
   <td style="text-align:right;"> 15380 </td>
   <td style="text-align:right;"> 6080 </td>
   <td style="text-align:right;"> 28120 </td>
   <td style="text-align:right;"> 0.8283485 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ANG MO KIO </td>
   <td style="text-align:left;"> CHONG BOON </td>
   <td style="text-align:right;"> 6150 </td>
   <td style="text-align:right;"> 13970 </td>
   <td style="text-align:right;"> 6450 </td>
   <td style="text-align:right;"> 26570 </td>
   <td style="text-align:right;"> 0.9019327 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ANG MO KIO </td>
   <td style="text-align:left;"> KEBUN BAHRU </td>
   <td style="text-align:right;"> 5500 </td>
   <td style="text-align:right;"> 12040 </td>
   <td style="text-align:right;"> 5080 </td>
   <td style="text-align:right;"> 22620 </td>
   <td style="text-align:right;"> 0.8787375 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ANG MO KIO </td>
   <td style="text-align:left;"> SEMBAWANG HILLS </td>
   <td style="text-align:right;"> 2130 </td>
   <td style="text-align:right;"> 3390 </td>
   <td style="text-align:right;"> 1270 </td>
   <td style="text-align:right;"> 6790 </td>
   <td style="text-align:right;"> 1.0029499 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ANG MO KIO </td>
   <td style="text-align:left;"> SHANGRI-LA </td>
   <td style="text-align:right;"> 3970 </td>
   <td style="text-align:right;"> 8430 </td>
   <td style="text-align:right;"> 3540 </td>
   <td style="text-align:right;"> 15940 </td>
   <td style="text-align:right;"> 0.8908660 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ANG MO KIO </td>
   <td style="text-align:left;"> TAGORE </td>
   <td style="text-align:right;"> 2220 </td>
   <td style="text-align:right;"> 4160 </td>
   <td style="text-align:right;"> 1520 </td>
   <td style="text-align:right;"> 7900 </td>
   <td style="text-align:right;"> 0.8990385 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ANG MO KIO </td>
   <td style="text-align:left;"> TOWNSVILLE </td>
   <td style="text-align:right;"> 4720 </td>
   <td style="text-align:right;"> 11430 </td>
   <td style="text-align:right;"> 5050 </td>
   <td style="text-align:right;"> 21200 </td>
   <td style="text-align:right;"> 0.8547682 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ANG MO KIO </td>
   <td style="text-align:left;"> YIO CHU KANG EAST </td>
   <td style="text-align:right;"> 1190 </td>
   <td style="text-align:right;"> 2230 </td>
   <td style="text-align:right;"> 740 </td>
   <td style="text-align:right;"> 4160 </td>
   <td style="text-align:right;"> 0.8654709 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ANG MO KIO </td>
   <td style="text-align:left;"> YIO CHU KANG WEST </td>
   <td style="text-align:right;"> 6610 </td>
   <td style="text-align:right;"> 12810 </td>
   <td style="text-align:right;"> 4680 </td>
   <td style="text-align:right;"> 24100 </td>
   <td style="text-align:right;"> 0.8813427 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="joining-attributes-to-geospatial-data" class="level2">
<h2 class="anchored" data-anchor-id="joining-attributes-to-geospatial-data">Joining Attributes to Geospatial data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>mpsz_pop2020 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>                  mpsz, popdata2020,</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"SUBZONE_N"</span> <span class="ot">=</span> <span class="st">"SZ"</span>))</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rds file in new data folder</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(mpsz_pop2020, <span class="st">"data/rds/mpszpop2020.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="cloropleth-maps" class="level1">
<h1>Cloropleth Maps</h1>
<section id="simple-map-using-qtm" class="level2">
<h2 class="anchored" data-anchor-id="simple-map-using-qtm"><strong>Simple map using qtm()</strong></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">qtm</span>(mpsz_pop2020, </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"DEPENDENCY"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="using-tmap-arguments" class="level2">
<h2 class="anchored" data-anchor-id="using-tmap-arguments"><strong>Using tmap arguments</strong></h2>
<div class="cell">
<details>
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"DEPENDENCY"</span>, </span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">"quantile"</span>, </span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"Purples"</span>,</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Dependency ratio"</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(</span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">main.title =</span> <span class="st">"Distribution of Dependency Ratio by planning subzone"</span>,</span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">main.title.position =</span> <span class="st">"center"</span>,</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">main.title.size =</span> <span class="fl">1.2</span>,</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.height =</span> .<span class="dv">25</span>, </span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.width =</span> .<span class="dv">35</span>,</span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">frame =</span> <span class="cn">FALSE</span></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(</span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> .<span class="dv">3</span></span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>(</span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">type=</span><span class="st">"8star"</span>, </span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">2</span></span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_scale_bar</span>() <span class="sc">+</span></span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_grid</span>(</span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> .<span class="dv">1</span></span>
<span id="cb73-27"><a href="#cb73-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb73-28"><a href="#cb73-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_credits</span>(</span>
<span id="cb73-29"><a href="#cb73-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Source: Planning Sub-zone boundary from Urban Redevelopment Authority (URA)</span><span class="sc">\n</span><span class="st"> and Population data from Department of Statistics DOS"</span>, </span>
<span id="cb73-30"><a href="#cb73-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"bottom"</span>)</span>
<span id="cb73-31"><a href="#cb73-31" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="building-a-tmap" class="level2">
<h2 class="anchored" data-anchor-id="building-a-tmap"><strong>Building a tmap</strong></h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true"><strong>basic map</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false"><strong>Upgrade to Cloropleth</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-3" role="tab" aria-controls="tabset-10-3" aria-selected="false"><strong>Using tm_fill() and tm_border()</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<p><code>tm_shape()</code> is used to define the input data (i.e mpsz_pop2020) and <code>tm_polygons()</code> is used to draw the planning subzone polygons</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020) <span class="sc">+</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<p>Assign variable to <code>tm_polygons()</code> to visualise geographical distribution</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020) <span class="sc">+</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="st">"DEPENDENCY"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-10-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>) <span class="sc">+</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Border linewidth</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> .<span class="dv">2</span>,  </span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Border color</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"#1F363D"</span>,</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># transparency of color</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> .<span class="dv">8</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="data-classification-methods" class="level2">
<h2 class="anchored" data-anchor-id="data-classification-methods"><strong>Data Classification Methods</strong></h2>
<div class="solvebox solve">
<p><strong>tmap</strong> provides a total <strong>10</strong> data classification methods: fixed, sd, equal, pretty (default), quantile, kmeans, hclust, bclust, fisher, and jenks</p>
</div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true"><strong>jenks</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false"><strong>equal</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-3" role="tab" aria-controls="tabset-11-3" aria-selected="false"><strong>kmeans</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-4" role="tab" aria-controls="tabset-11-4" aria-selected="false"><strong>fisher</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-5" role="tab" aria-controls="tabset-11-5" aria-selected="false"><strong>Custom Breaks</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>,</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"Purples"</span>,</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">style =</span> <span class="st">"jenks"</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>,</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"Greens"</span>,</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">style =</span> <span class="st">"equal"</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-11-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>,</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"Blues"</span>,</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">style =</span> <span class="st">"kmeans"</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-11-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>,</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"Reds"</span>,</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">n =</span> <span class="dv">5</span>,</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">style =</span> <span class="st">"fisher"</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-11-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-5-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>,</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.60</span>, <span class="fl">0.70</span>, <span class="fl">0.80</span>, <span class="fl">0.90</span>, <span class="fl">1.00</span>),</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"-Purples"</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="legends-and-styles" class="level2">
<h2 class="anchored" data-anchor-id="legends-and-styles"><strong>Legends and Styles</strong></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>, </span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">style =</span> <span class="st">"jenks"</span>, </span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"Blues"</span>, </span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.hist =</span> <span class="cn">TRUE</span>, </span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.is.portrait =</span> <span class="cn">TRUE</span>,</span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.hist.z =</span> .<span class="dv">1</span></span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">main.title =</span> <span class="st">"Distribution of Dependency Ratio by planning subzone </span><span class="sc">\n</span><span class="st">(Jenks classification)"</span>,</span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>,</span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">main.title.size =</span> .<span class="dv">7</span>,</span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.height =</span> .<span class="dv">25</span>, </span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.width =</span> .<span class="dv">25</span>,</span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.outside =</span> <span class="cn">FALSE</span>,</span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="st">"right"</span>, <span class="st">"bottom"</span>),</span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">frame =</span> <span class="cn">FALSE</span></span>
<span id="cb83-19"><a href="#cb83-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb83-20"><a href="#cb83-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(</span>
<span id="cb83-21"><a href="#cb83-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> .<span class="dv">5</span></span>
<span id="cb83-22"><a href="#cb83-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb83-23"><a href="#cb83-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_style</span>(<span class="st">"natural"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>, </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>, </span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"Blues"</span>,</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"No. of persons"</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="st">"Distribution of Dependency Ratio </span><span class="sc">\n</span><span class="st">by planning subzone"</span>,</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">main.title.position =</span> <span class="st">"center"</span>,</span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">main.title.size =</span> <span class="fl">1.2</span>,</span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.height =</span> <span class="fl">0.45</span>, </span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.width =</span> <span class="fl">0.35</span>,</span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">frame =</span> <span class="cn">TRUE</span></span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb84-15"><a href="#cb84-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>(<span class="at">type=</span><span class="st">"8star"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb84-16"><a href="#cb84-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_scale_bar</span>(<span class="at">width =</span> <span class="fl">0.15</span>) <span class="sc">+</span></span>
<span id="cb84-17"><a href="#cb84-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_grid</span>(<span class="at">lwd =</span> <span class="fl">0.1</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb84-18"><a href="#cb84-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_credits</span>(<span class="st">"Source: Planning Sub-zone boundary from Urban Redevelopment Authorithy (URA)</span><span class="sc">\n</span><span class="st"> and Population data from Department of Statistics DOS"</span>, </span>
<span id="cb84-19"><a href="#cb84-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"bottom"</span>)</span>
<span id="cb84-20"><a href="#cb84-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb84-21"><a href="#cb84-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_style</span>(<span class="st">"classic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="facet-maps" class="level2">
<h2 class="anchored" data-anchor-id="facet-maps"><strong>Facet maps</strong></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"YOUNG"</span>, <span class="st">"AGED"</span>),</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">"equal"</span>, </span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"Reds"</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(</span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="st">"right"</span>, <span class="st">"bottom"</span>)</span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(</span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.5</span></span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tmap_style</span>(<span class="st">"albatross"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span> </span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"DEPENDENCY"</span>,<span class="st">"AGED"</span>),</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">c</span>(<span class="st">"equal"</span>, <span class="st">"quantile"</span>), </span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="fu">list</span>(<span class="st">"Blues"</span>,<span class="st">"Greens"</span>)</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="st">"right"</span>, <span class="st">"bottom"</span>)</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tmap_style</span>(<span class="st">"cobalt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(mpsz_pop2020</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"Purples"</span>,</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">thres.poly =</span> <span class="dv">0</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_facets</span>(<span class="at">by=</span><span class="st">"REGION_N"</span>, </span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">free.coords =</span> <span class="cn">TRUE</span>, </span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">drop.shapes =</span> <span class="cn">TRUE</span></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.show =</span> <span class="cn">FALSE</span>,</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">title.position =</span> <span class="fu">c</span>(<span class="st">"center"</span>, <span class="st">"center"</span>), </span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">title.size =</span> <span class="dv">16</span></span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> .<span class="dv">2</span></span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_style</span>(<span class="st">"classic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="stand-alone-maps-with-tmap_arrange" class="level2">
<h2 class="anchored" data-anchor-id="stand-alone-maps-with-tmap_arrange"><strong>stand-alone maps with tmap_arrange()</strong></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>youngmap <span class="ot">&lt;-</span> <span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"YOUNG"</span>, </span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">"quantile"</span>, </span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"Reds"</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_style</span>(<span class="st">"white"</span>)</span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>agedmap <span class="ot">&lt;-</span> <span class="fu">tm_shape</span>(mpsz_pop2020)<span class="sc">+</span> </span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(</span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AGED"</span>, </span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">"quantile"</span>, </span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">"Blues"</span></span>
<span id="cb88-14"><a href="#cb88-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb88-15"><a href="#cb88-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_style</span>(<span class="st">"white"</span>)</span>
<span id="cb88-16"><a href="#cb88-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-17"><a href="#cb88-17" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(youngmap, agedmap, </span>
<span id="cb88-18"><a href="#cb88-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">asp =</span> <span class="dv">1</span>, </span>
<span id="cb88-19"><a href="#cb88-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="mapping-only-specific-criteria" class="level2">
<h2 class="anchored" data-anchor-id="mapping-only-specific-criteria"><strong>Mapping only specific criteria</strong></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Only map central region</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  mpsz_pop2020[mpsz_pop2020<span class="sc">$</span>REGION_N<span class="sc">==</span><span class="st">"CENTRAL REGION"</span>, ]</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(<span class="st">"DEPENDENCY"</span>, </span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">style =</span> <span class="st">"quantile"</span>, </span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"Greens"</span>, </span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.hist =</span> <span class="cn">TRUE</span>, </span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.is.portrait =</span> <span class="cn">TRUE</span>,</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.hist.z =</span> <span class="fl">0.1</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.outside =</span> <span class="cn">TRUE</span>,</span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.height =</span> <span class="fl">0.45</span>, </span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.width =</span> <span class="fl">5.0</span>,</span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="st">"right"</span>, <span class="st">"bottom"</span>),</span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">frame =</span> <span class="cn">FALSE</span></span>
<span id="cb89-17"><a href="#cb89-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb89-18"><a href="#cb89-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hands-on_Ex01_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-right">Copyright 2023<img src="images/Name_Logo3.png" class="img-fluid" alt="Name_logo" width="100"></div>
  </div>
</footer>



</body></html>